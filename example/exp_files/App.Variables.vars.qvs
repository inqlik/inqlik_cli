//////THIS IS AUTOGENERATED FILE. DO NOT EDIT IT DIRECTLY!!!!!!!!!!!!!

SET СуммаПродажи = Money(Sum({$<ТипДокумента={2}, ТипПериода={'Current'}>}Сумма),'# ##0,00');
SET СуммаПродажи.Заголовок = Продажи руб.;
SET СуммаПродажи.Описание = Сумма продаж в руб.;
SET СуммаПродажиТыс = Money(Sum({$<ТипДокумента={2}, ТипПериода={'Current'}>}Сумма)/1000,'# ##0,00');
SET СуммаПродажиТыс.Заголовок = Продажи тыс.руб.;
SET СуммаПродажиТыс.Описание = Сумма продаж в тыс. руб.;
let СуммаПродажиТысНавигатор = replace(replace('Money(Sum({$<@(Измерение(ГруппаИзмерений)), ТипДокумента={2}, ТипПериода={~~~Current~~~}>}Сумма)/1000,~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаПродажиТысНавигатор.Заголовок = Продажи тыс.руб.;
SET СуммаПродажиТысНавигатор.Описание = Сумма продаж в тыс. руб.;
SET ПланПродаж = Money(Sum({<_ФлагДействующаяДата={1},ТипДокумента={13},ТипПериода={'Current'}>} Сумма),'# ##0,00');
SET ПланПродаж.Заголовок = План Продаж, руб;
SET ПланПродаж.Описание = План Продаж (за неполный месяц)  руб;
SET ПланПродажТыс = Money(Sum({<_ФлагДействующаяДата={1},ТипДокумента={13},ТипПериода={'Current'}>} Сумма)/1000,'# ##0,00');
SET ПланПродажТыс.Заголовок = План Продаж тыс.руб.;
SET ПланПродажТыс.Описание = План Продаж (за неполный месяц) в тыс. руб.;
SET ПланПродажПолный = Money(Sum({<ТипДокумента={13},ТипПериода={'Current'}>} Сумма),'# ##0,00');
SET ПланПродажПолный.Заголовок = План Продаж за полный месяц, руб;
SET ПланПродажПолный.Описание = План Продаж (за полный месяц)  руб;
SET ПланПродажПолныйТыс = Money(Sum({<ТипДокумента={13},ТипПериода={'Current'}>} Сумма)/1000,'# ##0,00');
SET ПланПродажПолныйТыс.Заголовок = План Продаж за полный месяц, в тыс. руб.;
SET ПланПродажПолныйТыс.Описание = План Продаж (за полный месяц)  в тыс. руб.;
let ПФ_Продажи = replace(replace('Money(@(СуммаПродажи)/@(ПланПродаж),~~~# ##0,0%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПФ_Продажи.Заголовок = % вып. плана Продаж;
SET ПФ_Продажи.Описание = Факт отнесенный к плану по продажам;
let П_Ф_Продажи = replace(replace('Money((@(СуммаПродажи)-@(ПланПродаж)),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET П_Ф_Продажи.Заголовок = ∆ ПФ Продажи;
SET П_Ф_Продажи.Описание = План минус факт по продажам, руб.;
let П_Ф_ПродажиТыс = replace(replace('Money((@(СуммаПродажи)-@(ПланПродаж))/1000,~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET П_Ф_ПродажиТыс.Заголовок = ∆ П-Ф Продажи тыс. руб.;
SET П_Ф_ПродажиТыс.Описание = План минус факт по продажам тыс. руб.;
SET ПродажиПредГодРуб = Money(sum({<ТипДокумента = {2},_ФлагДействующаяДата={1}, ТипПериода={'Год'}>}Сумма),'# ##0,00');
SET ПродажиПредГодРуб.Заголовок = Продажи пред. (1) Год, руб.;
SET ПродажиПредГодРуб.Описание = Cумма продажи за предыдущий год, руб.;
SET ПродажиПредГод = Money(sum({<ТипДокумента = {2},_ФлагДействующаяДата={1}, ТипПериода={'Год'}>}Сумма)/1000,'# ##0,00');
SET ПродажиПредГод.Заголовок = Продажи пред. (1) Год, тыс. руб.;
SET ПродажиПредГод.Описание = Cумма продажи за предыдущий год тыс.руб.;
SET ПродажиПредГод2Руб = Money((sum({<ТипДокумента = {2},_ФлагДействующаяДата={1}, ТипПериода={'Год-2'}>}Сумма)),'# ##0,00');
SET ПродажиПредГод2Руб.Заголовок = Продажи пред. (2) Год, руб.;
SET ПродажиПредГод2Руб.Описание = Cумма продажи за предпредыдущий год руб.;
SET ПродажиПредГод2 = Money((sum({<ТипДокумента = {2},_ФлагДействующаяДата={1}, ТипПериода={'Год-2'}>}Сумма)/1000),'# ##0,00');
SET ПродажиПредГод2.Заголовок = Продажи пред. (2) Год, тыс. руб.;
SET ПродажиПредГод2.Описание = Cумма продажи за предпредыдущий год тыс.руб.;
SET ПродажиПредГодДеньНедели = Money(sum({<ТипДокумента = {2},_ФлагДействующаяДата={1}, ТипПериода={'ГодДеньНедели'}>}Сумма)/1000,'# ##0,00');
SET ПродажиПредГодДеньНедели.Заголовок = Продажи пред. (1) Год тот же день недели, тыс. руб.;
SET ПродажиПредГодДеньНедели.Описание = Cумма продажи за предыдущий год тот же день недели, тыс.руб.;
SET ПродажиПредГодДеньНеделиРуб = Money(sum({<ТипДокумента = {2},_ФлагДействующаяДата={1}, ТипПериода={'ГодДеньНедели'}>}Сумма),'# ##0,00');
SET ПродажиПредГодДеньНеделиРуб.Заголовок = Продажи пред. (1) Год тот же день недели, руб.;
SET ПродажиПредГодДеньНеделиРуб.Описание = Cумма продажи за предыдущий год тот же день недели, руб.;
SET ПродажиПредГод2ДеньНедели = Money(sum({<ТипДокумента = {2},_ФлагДействующаяДата={1}, ТипПериода={'Год2ДеньНедели'}>}Сумма)/1000,'# ##0,00');
SET ПродажиПредГод2ДеньНедели.Заголовок = Продажи пред. (2) Год тот же день недели, тыс.руб.;
SET ПродажиПредГод2ДеньНедели.Описание = Cумма продажи за предпредыдущий год тот же день недели, тыс.руб.;
SET ПродажиПредГод2ДеньНеделиРуб = Money(sum({<ТипДокумента = {2},_ФлагДействующаяДата={1}, ТипПериода={'Год2ДеньНедели'}>}Сумма),'# ##0,00');
SET ПродажиПредГод2ДеньНеделиРуб.Заголовок = Продажи пред. (2) Год тот же день недели, руб.;
SET ПродажиПредГод2ДеньНеделиРуб.Описание = Cумма продажи за предпредыдущий год тот же день недели, руб.;
let ПроцентПродажиПредГод = replace(replace('Money(@(СуммаПродажиТыс)/@(ПродажиПредГод),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПродажиПредГод.Заголовок = % изм.Продаж к пред. (1) Год;
SET ПроцентПродажиПредГод.Описание = Процент Продажи к предыдущему году;
let ПроцентПродажиПредГодНавигатор = replace(replace('Money(Sum({$<ТипДокумента={2}, @(Измерение(ГруппаИзмерений)), ТипПериода={~~~Current~~~}>}Сумма) / sum({<ТипДокумента = {2},_ФлагДействующаяДата={1}, @(Измерение(ГруппаИзмерений)), ТипПериода={~~~Год~~~}>}Сумма),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПродажиПредГодНавигатор.Заголовок = % изм.Продаж к пред. (1) Год;
SET ПроцентПродажиПредГодНавигатор.Описание = Процент Продажи к предыдущему году;
let ПроцентПродажиПредГод2 = replace(replace('Money(@(СуммаПродажиТыс)/@(ПродажиПредГод2),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПродажиПредГод2.Заголовок = % изм.Продаж к пред. (2) Год;
SET ПроцентПродажиПредГод2.Описание = Процент Продажи к предпредыдущему году;
let СуммаРостаПродажиПредГод = replace(replace('Money(@(СуммаПродажиТыс)-@(ПродажиПредГод),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаПродажиПредГод.Заголовок = ∆ изм. Продаж к пред. (1) Год;
SET СуммаРостаПродажиПредГод.Описание = Сумма роста Продажи к предыдущему году;
let СуммаРостаПродажиПредГод2 = replace(replace('Money(@(СуммаПродажиТыс)-@(ПродажиПредГод2),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаПродажиПредГод2.Заголовок = ∆ изм. Продаж к пред. (2) Год;
SET СуммаРостаПродажиПредГод2.Описание = Сумма роста Продажи к предпредыдущему году;
let ПроцентПродажиПредГодДеньНедели = replace(replace('Money(@(СуммаПродажиТыс)/@(ПродажиПредГодДеньНедели),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПродажиПредГодДеньНедели.Заголовок = % Продажи к пред. (1) Год тот же день недели, тыс.руб.;
SET ПроцентПродажиПредГодДеньНедели.Описание = Процент Продажи к предыдущему году тот же день недели тыс.руб.;
let ПроцентПродажиПредГод2ДеньНедели = replace(replace('Money(@(СуммаПродажиТыс)/@(ПродажиПредГод2ДеньНедели),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПродажиПредГод2ДеньНедели.Заголовок = % Продажи к пред. (2) Год тот же день недели, тыс.руб.;
SET ПроцентПродажиПредГод2ДеньНедели.Описание = Процент Продажи к предпредыдущему году тот же день недели тыс.руб.;
let СуммаРостаПродажиПредГодДеньНедели = replace(replace('Money(@(СуммаПродажиТыс)-@(ПродажиПредГодДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаПродажиПредГодДеньНедели.Заголовок = Сумма роста Продаж к пред. (1) Год тот же день недели, тыс.руб.;
SET СуммаРостаПродажиПредГодДеньНедели.Описание = Сумма роста Продажи к предыдущему году тот же день недели, тыс.руб.;
let СуммаРостаПродажиПредГод2ДеньНедели = replace(replace('Money(@(СуммаПродажиТыс)-@(ПродажиПредГод2ДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаПродажиПредГод2ДеньНедели.Заголовок = Сумма роста Продаж к пред. (2) Год тот же день недели тыс.руб.;
SET СуммаРостаПродажиПредГод2ДеньНедели.Описание = Сумма роста Продажи к предпредыдущему году тот же день недели тыс.руб.;
SET ПродажиПредМесРуб = Money(sum({<ТипДокумента = {2},_ФлагДействующаяДата={1}, ТипПериода={'ГодМесяц'}>}Сумма),'# ##0,00');
SET ПродажиПредМесРуб.Заголовок = Продажи пред мес, руб.;
SET ПродажиПредМесРуб.Описание = Cумма продажи за предыдущий мес руб.;
SET ПродажиПредМес = Money(sum({<ТипДокумента = {2},_ФлагДействующаяДата={1}, ТипПериода={'ГодМесяц'}>}Сумма)/1000,'# ##0,00');
SET ПродажиПредМес.Заголовок = Продажи пред мес, тыс.руб.;
SET ПродажиПредМес.Описание = Cумма продажи за предыдущий мес тыс.руб.;
let ПроцентПродажиПредМес = replace(replace('Money(@(СуммаПродажиТыс)/@(ПродажиПредМес),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПродажиПредМес.Заголовок = % Продажи к пред мес;
SET ПроцентПродажиПредМес.Описание = Процент Продажи к предыдущему месяцу;
let СуммаРостаПродажиПредМес = replace(replace('Money(@(СуммаПродажиТыс)-@(ПродажиПредМес),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаПродажиПредМес.Заголовок = Сумма роста Продаж к пред мес;
SET СуммаРостаПродажиПредМес.Описание = Сумма роста Продажи к предыдущему месяцу;
let ДоляСуммыПродажГруппы = replace(replace('Money(Aggr( Sum({$<ТипДокумента={2}, ТипПериода={~~~Current~~~}>} Сумма)/Sum({$<ТипДокумента={2}, ТипПериода={~~~Current~~~}>} TOTAL <@(Измерение(ГруппаСклад))> Сумма), @(Измерение(ГруппаСклад)), @(Измерение(ГруппаКлассификатор))),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ДоляСуммыПродажГруппы.Заголовок = Доля продаж в магазине;
SET ДоляСуммыПродажГруппы.Описание = Доля продаж товара в магазине;
let ДоляСуммыПродажСклад = replace(replace('Money(Aggr( Sum({$<ТипДокумента={2}, ТипПериода={~~~Current~~~}>} Сумма)/Sum({$<ТипДокумента={2}, ТипПериода={~~~Current~~~}>} TOTAL <@(Измерение(ГруппаКлассификатор))> Сумма), @(Измерение(ГруппаКлассификатор)), @(Измерение(ГруппаСклад))),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ДоляСуммыПродажСклад.Заголовок = Доля продаж в группе товаров;
SET ДоляСуммыПродажСклад.Описание = Доля продаж в группе товаров;
let ДоляСуммыПродажКомпании = replace(replace('Money(Aggr( Sum({$<ТипДокумента={2}, ТипПериода={~~~Current~~~}>} Сумма)/Sum({<Склад,ТипДокумента={2}, ТипПериода={~~~Current~~~}>} TOTAL Сумма), @(Измерение(ГруппаСклад)), @(Измерение(ГруппаКлассификатор))),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ДоляСуммыПродажКомпании.Заголовок = Доля продаж по компании;
SET ДоляСуммыПродажКомпании.Описание = Доля продаж товара по компании в целом;
SET ПродажиКоличество = Money(Sum({$<ТипДокумента ={2},ТипПериода={'Current'}>}Количество),'# ##0,000');
SET ПродажиКоличество.Заголовок = Кол Проданого товара, шт;
SET ПродажиКоличество.Описание = Количество проданного товара, шт;
SET ПродажиКоличествоБезШкалыЛиквидности = Money(Sum({$<ТипДокумента ={2},ШкалаЛиквидности,ТипПериода={'Current'}>}Количество),'# ##0,0000');
SET ПродажиКоличествоБезШкалыЛиквидности.Заголовок = Кол Продано, шт;
SET ПродажиКоличествоБезШкалыЛиквидности.Описание = Количество проданного товара, шт;
SET ДнейВПериоде = Floor((Max({<_ФлагДействующаяДата={1}>} TOTAL Дата)-Min({<_ФлагДействующаяДата={1}>}  TOTAL Дата)+1)/3);
let УсловиеПериод1 = replace(replace('Дата={">@(=Date(Max({<_ФлагДействующаяДата={1}>} TOTAL Дата)-@(ДнейВПериоде)))<=@(=Date(Max({<_ФлагДействующаяДата={1}>} TOTAL Дата)))"}','~~~', chr(39)), '@(', chr(36) & '(');
let УсловиеПериод2 = replace(replace('Дата={">@(=Date(Max({<_ФлагДействующаяДата={1}>} TOTAL Дата)-@(ДнейВПериоде)*2))<=@(=Date(Max({<_ФлагДействующаяДата={1}>} TOTAL Дата)-@(ДнейВПериоде)))"}','~~~', chr(39)), '@(', chr(36) & '(');
let УсловиеПериод3 = replace(replace('Дата={">@(=Date(Max({<_ФлагДействующаяДата={1}>} TOTAL Дата)-@(ДнейВПериоде)*3))<=@(=Date(Max({<_ФлагДействующаяДата={1}>} TOTAL Дата)-@(ДнейВПериоде)*2))"}','~~~', chr(39)), '@(', chr(36) & '(');
let УсловиеПериод4 = replace(replace('Дата={">=@(=Date(Min({<_ФлагДействующаяДата={1}>} TOTAL Дата)))<=@(=Date(Max({<_ФлагДействующаяДата={1}>} TOTAL Дата)-@(ДнейВПериоде)*3))"}','~~~', chr(39)), '@(', chr(36) & '(');
let ПродажиКоличествоПериод1 = replace(replace('Money(Sum({$<ТипДокумента={2},ТипПериода={~~~Current~~~},@(УсловиеПериод1)>}Количество),~~~# ##0~~~)','~~~', chr(39)), '@(', chr(36) & '(');
let ПродажиКоличествоПериод1Заголовок = replace(replace('~~~Продажи c ~~~  & Min({<@(УсловиеПериод1)>} Дата) & ~~~ по ~~~ & Max({<@(УсловиеПериод1)>} Дата)','~~~', chr(39)), '@(', chr(36) & '(');
let ПродажиКоличествоПериод2 = replace(replace('Money(Sum({$<ТипДокумента={2},ТипПериода={~~~Current~~~},@(УсловиеПериод2)>}Количество),~~~# ##0~~~)','~~~', chr(39)), '@(', chr(36) & '(');
let ПродажиКоличествоПериод2Заголовок = replace(replace('~~~Продажи c ~~~  & Min({<@(УсловиеПериод2)>} Дата) & ~~~ по ~~~ & Max({<@(УсловиеПериод2)>} Дата)','~~~', chr(39)), '@(', chr(36) & '(');
let ПродажиКоличествоПериод3 = replace(replace('Money(Sum({$<ТипДокумента={2},ТипПериода={~~~Current~~~},@(УсловиеПериод3)>}Количество),~~~# ##0~~~)','~~~', chr(39)), '@(', chr(36) & '(');
let ПродажиКоличествоПериод3Заголовок = replace(replace('~~~Продажи c ~~~  & Min({<@(УсловиеПериод3)>} Дата) & ~~~ по ~~~ & Max({<@(УсловиеПериод3)>} Дата)','~~~', chr(39)), '@(', chr(36) & '(');
let ПродажиКоличествоПериод4 = replace(replace('Money(Sum({$<ТипДокумента={2},ТипПериода={~~~Current~~~},@(УсловиеПериод4)>}Количество),~~~# ##0~~~)','~~~', chr(39)), '@(', chr(36) & '(');
let ПродажиКоличествоПериод4Заголовок = replace(replace('~~~Продажи c ~~~  & Min({<@(УсловиеПериод4)>} Дата) & ~~~ по ~~~ & Max({<@(УсловиеПериод4)>} Дата)','~~~', chr(39)), '@(', chr(36) & '(');
SET УсловиеПоказаПериод4 = Max(Дата)-Min(Дата)>3 AND Mod(Max(Дата)-Min(Дата)+1,3);
SET ПродажиКоличествоПредГод = Money(sum({<ТипДокумента = {2},_ФлагДействующаяДата={1}, ТипПериода={'Год'}>}Количество),'# ##0');
SET ПродажиКоличествоПредГод.Заголовок = Продажи количество пред. (1) Год, шт;
SET ПродажиКоличествоПредГод.Описание = Количество продано за предыдущий год, шт;
let ПроцентПродажиКоличествоПредГод = replace(replace('Money(@(ПродажиКоличество)/@(ПродажиКоличествоПредГод),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПродажиКоличествоПредГод.Заголовок = % Количество продано к пред. (1) Год;
SET ПроцентПродажиКоличествоПредГод.Описание = Процент Количество проданных к предыдущему году;
let СуммаРостаПродажиКоличествоПредГод = replace(replace('Num(@(ПродажиКоличество)-@(ПродажиКоличествоПредГод),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаПродажиКоличествоПредГод.Заголовок = ∆ изм. Количество продано к пред. (1) Год;
SET СуммаРостаПродажиКоличествоПредГод.Описание = Сумма роста Количество продано к предыдущему году;
SET ПродажиКоличествоПредГод2 = Money(sum({<ТипДокумента = {2},_ФлагДействующаяДата={1}, ТипПериода={'Год-2'}>}Количество),'# ##0');
SET ПродажиКоличествоПредГод2.Заголовок = Продажи количество пред. (2) Год, шт;
SET ПродажиКоличествоПредГод2.Описание = Количество продано за предпредыдущий год, шт;
let ПроцентПродажиКоличествоПредГод2 = replace(replace('Money(@(ПродажиКоличество)/@(ПродажиКоличествоПредГод2),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПродажиКоличествоПредГод2.Заголовок = % Количество продано к пред. (2) Год;
SET ПроцентПродажиКоличествоПредГод2.Описание = Процент Количество проданных к предпредыдущему году;
let СуммаРостаПродажиКоличествоПредГод2 = replace(replace('Num(@(ПродажиКоличество)-@(ПродажиКоличествоПредГод2),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаПродажиКоличествоПредГод2.Заголовок = ∆ изм. Количество продано к пред. (2) Год;
SET СуммаРостаПродажиКоличествоПредГод2.Описание = Сумма роста Количество продано к предпредыдущему году;
SET ПродажиКоличествоПредГодДеньНедели = Money(sum({<ТипДокумента = {2},_ФлагДействующаяДата={1}, ТипПериода={'ГодДеньНедели'}>}Количество),'# ##0');
SET ПродажиКоличествоПредГодДеньНедели.Заголовок = Продажи количество пред. (1) Год тот же день недели, шт;
SET ПродажиКоличествоПредГодДеньНедели.Описание = Количество продано за предыдущий год, шт;
let ПроцентПродажиКоличествоПредГодДеньНедели = replace(replace('Money(@(ПродажиКоличество)/@(ПродажиКоличествоПредГодДеньНедели),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПродажиКоличествоПредГодДеньНедели.Заголовок = % Количество продано к пред. (1) Год тот же день недели;
SET ПроцентПродажиКоличествоПредГодДеньНедели.Описание = Процент Количество проданных к предыдущему году тот же день недели;
let СуммаРостаПродажиКоличествоПредГодДеньНедели = replace(replace('Num(@(ПродажиКоличество)-@(ПродажиКоличествоПредГодДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаПродажиКоличествоПредГодДеньНедели.Заголовок = ∆ изм. Количество продано к пред. (1) Год тот же день недели, тыс. руб.;
SET СуммаРостаПродажиКоличествоПредГодДеньНедели.Описание = Сумма роста Количество продано к предыдущему году тот же день недели;
SET ПродажиКоличествоПредГод2ДеньНедели = Money(sum({<ТипДокумента = {2},_ФлагДействующаяДата={1}, ТипПериода={'Год2ДеньНедели'}>}Количество),'# ##0');
SET ПродажиКоличествоПредГод2ДеньНедели.Заголовок = Продажи количество пред. (2) Год тот же день недели, шт;
SET ПродажиКоличествоПредГод2ДеньНедели.Описание = Количество продано за предпредыдущий год тот же день недели, шт;
let ПроцентПродажиКоличествоПредГод2ДеньНедели = replace(replace('Money(@(ПродажиКоличество)/@(ПродажиКоличествоПредГод2ДеньНедели),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПродажиКоличествоПредГод2ДеньНедели.Заголовок = % Количество продано к пред. (2) Год тот же день недели;
SET ПроцентПродажиКоличествоПредГод2ДеньНедели.Описание = Процент Количество проданных к предпредыдущему году тот же день недели;
let СуммаРостаПродажиКоличествоПредГод2ДеньНедели = replace(replace('Num(@(ПродажиКоличество)-@(ПродажиКоличествоПредГод2ДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаПродажиКоличествоПредГод2ДеньНедели.Заголовок = ∆ изм. Количество продано к пред. (2) Год тот же день недели, тыс. руб.;
SET СуммаРостаПродажиКоличествоПредГод2ДеньНедели.Описание = Сумма роста Количество продано к предпредыдущему году тот же день недели;
SET СуммаВП = Money(Sum({$<ТипДокумента = {2},ТипПериода={'Current'}>} ВП),'# ##0,00');
SET СуммаВП.Заголовок = Наценка, руб;
SET СуммаВП.Описание = Наценка с НДС, руб;
let СуммаВПТыс = replace(replace('Money(@(СуммаВП)/1000,~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаВПТыс.Заголовок = Наценка тыс.руб.;
SET СуммаВПТыс.Описание = Наценка в тыс. руб.;
SET ПланВП = Money(Sum({<_ФлагДействующаяДата={1},ТипДокумента={13},ТипПериода={'Current'}>} ВП),'# ##0,00');
SET ПланВП.Заголовок = План Наценка, руб;
SET ПланВП.Описание = План Наценка (за неполный месяц) руб;
SET ПланВПТыс = Money(Sum({<_ФлагДействующаяДата={1},ТипДокумента={13},ТипПериода={'Current'}>} ВП)/1000,'# ##0,00');
SET ПланВПТыс.Заголовок = План Наценка, тыс.руб.;
SET ПланВПТыс.Описание = План Наценка (за неполный месяц) тыс. руб.;
SET ПланВППолный = Money(Sum({<ТипДокумента={13},ТипПериода={'Current'}>} ВП),'# ##0,00');
SET ПланВППолный.Заголовок = План Наценка полный месяц, руб;
SET ПланВППолный.Описание = План Наценка (за полный месяц), руб;
SET ПланВППолныйТыс = Money(Sum({<ТипДокумента={13},ТипПериода={'Current'}>} ВП)/1000,'# ##0,00');
SET ПланВППолныйТыс.Заголовок = План Наценка полный месяц, тыс.руб.;
SET ПланВППолныйТыс.Описание = План Наценка (за полный месяц) тыс. руб.;
let ПФ_ВП = replace(replace('Money(@(СуммаВП)/@(ПланВП),~~~# ##0,0%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПФ_ВП.Заголовок = % вып. плана Наценка;
SET ПФ_ВП.Описание = Факт отнесенный к плану по наценке;
let П_Ф_ВП = replace(replace('Money(@(СуммаВП)-@(ПланВП),~~~# ##0,0~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET П_Ф_ВП.Заголовок = ∆ ПФ Наценки;
SET П_Ф_ВП.Описание = Факт отнесенный к плану по наценке;
let П_Ф_ВПТыс = replace(replace('Money((@(СуммаВП)-@(ПланВП))/1000,~~~# ##0,0~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET П_Ф_ВПТыс.Заголовок = ∆ П-Ф Наценки, тыс.руб.;
SET П_Ф_ВПТыс.Описание = Факт отнесенный к плану по наценке, тыс. руб.;
SET ВППредГод = Num((sum({<ТипДокумента = {2}, _ФлагДействующаяДата={1},ТипПериода={'Год'}>}ВП)/1000),'# ##0,00');
SET ВППредГод.Заголовок = Наценка пред год, тыс.руб.;
SET ВППредГод.Описание = Наценка за в предыдущий год тыс.руб.;
let ПроцентВППредГод = replace(replace('Num(@(СуммаВПТыс)/@(ВППредГод),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентВППредГод.Заголовок = % изм. Наценки к пред. (1) Год;
SET ПроцентВППредГод.Описание = Процент Наценки к предыдущему году;
let СуммаРостаВППредГод = replace(replace('Num(@(СуммаВПТыс)-@(ВППредГод),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаВППредГод.Заголовок = ∆ изм. Наценки. к пред. (1) Год, тыс. руб.;
SET СуммаРостаВППредГод.Описание = Сумма роста Наценки к предыдущему году;
SET ВППредГод2 = Num((sum({<ТипДокумента = {2}, _ФлагДействующаяДата={1},ТипПериода={'Год-2'}>}ВП)/1000),'# ##0,00');
SET ВППредГод2.Заголовок = Наценка пред. (2) Год, тыс.руб.;
SET ВППредГод2.Описание = Наценка за вычетом себестоимости и НДС за предпредыдущий год тыс.руб.;
let ПроцентВППредГод2 = replace(replace('Num(@(СуммаВПТыс)/@(ВППредГод2),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентВППредГод2.Заголовок = % изм. Наценки к пред. (2) Год;
SET ПроцентВППредГод2.Описание = Процент Наценки к предпредыдущему году;
let СуммаРостаВППредГод2 = replace(replace('Num(@(СуммаВПТыс)-@(ВППредГод2),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаВППредГод2.Заголовок = ∆ изм. Наценки к пред. (2) Год, тыс. руб.;
SET СуммаРостаВППредГод2.Описание = Сумма роста Наценки к предпредыдущему году;
SET ВППредГодДеньНедели = Num((sum({<ТипДокумента = {2}, _ФлагДействующаяДата={1},ТипПериода={'Год'}>}ВП)/1000),'# ##0,00');
SET ВППредГодДеньНедели.Заголовок = Наценка пред год тот же день недели, тыс.руб.;
SET ВППредГодДеньНедели.Описание = Наценка за в предыдущий год тот же день недели, тыс.руб.;
let ПроцентВППредГодДеньНедели = replace(replace('Num(@(СуммаВПТыс)/@(ВППредГодДеньНедели),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентВППредГодДеньНедели.Заголовок = % изм. Наценки к пред. (1) Год тот же день недели;
SET ПроцентВППредГодДеньНедели.Описание = Процент Наценки к предыдущему году тот же день недели;
let СуммаРостаВППредГодДеньНедели = replace(replace('Num(@(СуммаВПТыс)-@(ВППредГодДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаВППредГодДеньНедели.Заголовок = ∆ изм. Наценки. к пред. (1) Год тот же день недели, тыс. руб.;
SET СуммаРостаВППредГодДеньНедели.Описание = Сумма роста Наценки к предыдущему году тот же день недели;
SET ВППредГод2ДеньНедели = Num((sum({<ТипДокумента = {2}, _ФлагДействующаяДата={1},ТипПериода={'Год-2'}>}ВП)/1000),'# ##0,00');
SET ВППредГод2ДеньНедели.Заголовок = Наценка пред. (2) Год тот же день недели, тыс.руб.;
SET ВППредГод2ДеньНедели.Описание = Наценка за вычетом себестоимости и НДС за предпредыдущий год тот же день недели, тыс.руб.;
let ПроцентВППредГод2ДеньНедели = replace(replace('Num(@(СуммаВПТыс)/@(ВППредГод2ДеньНедели),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентВППредГод2ДеньНедели.Заголовок = % изм. Наценки к пред. (2) Год тот же день недели;
SET ПроцентВППредГод2ДеньНедели.Описание = Процент Наценки к предпредыдущему году тот же день недели;
let СуммаРостаВППредГод2ДеньНедели = replace(replace('Num(@(СуммаВПТыс)-@(ВППредГод2ДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаВППредГод2ДеньНедели.Заголовок = ∆ изм. Наценки к пред. (2) Год тот же день недели, тыс. руб.;
SET СуммаРостаВППредГод2ДеньНедели.Описание = Сумма роста Наценки к предпредыдущему году тот же день недели;
SET ВППредМес = Num((sum({<ТипДокумента = {2}, _ФлагДействующаяДата={1},ТипПериода={'ГодМесяц'}>}ВП)/1000),'# ##0,00');
SET ВППредМес.Заголовок = Наценка пред месяц, тыс.руб.;
SET ВППредМес.Описание = Наценка за вычетом себестоимости и НДС за предыдущий месяц тыс.руб.;
let ПроцентВППредМес = replace(replace('Num(@(СуммаВПТыс)/@(ВППредМес),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентВППредМес.Заголовок = % Наценки к пред месяцу;
SET ПроцентВППредМес.Описание = Процент Наценки к предыдущему месяцу;
let СуммаРостаВППредМес = replace(replace('Num(@(СуммаВПТыс)-@(ВППредМес),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаВППредМес.Заголовок = Сумма роста Наценки к пред месяцу;
SET СуммаРостаВППредМес.Описание = Сумма роста Наценки к предыдущему месяцу;
let ДоляСуммыНаценкиГруппы = replace(replace('Money(Aggr( Sum({$<ТипДокумента={2}, ТипПериода={~~~Current~~~}>} ВП)/Sum({$<ТипДокумента={2}, ТипПериода={~~~Current~~~}>} TOTAL <@(Измерение(ГруппаСклад))> ВП), @(Измерение(ГруппаСклад)), @(Измерение(ГруппаКлассификатор))),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ДоляСуммыНаценкиГруппы.Заголовок = Доля наценки группы по магазину;
SET ДоляСуммыНаценкиГруппы.Описание = Доля наценки группы товара по магазину;
let ДоляСуммыНаценкиСклад = replace(replace('Money(Aggr( Sum({$<ТипДокумента={2}, ТипПериода={~~~Current~~~}>} ВП)/Sum({$<ТипДокумента={2}, ТипПериода={~~~Current~~~}>} TOTAL <@(Измерение(ГруппаКлассификатор))> ВП), @(Измерение(ГруппаКлассификатор)), @(Измерение(ГруппаСклад))),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ДоляСуммыНаценкиСклад.Заголовок = Доля наценки склада по группе;
SET ДоляСуммыНаценкиСклад.Описание = Доля наценки склада по группе товаров;
let ДоляСуммыНаценкиКомпании = replace(replace('Money(Aggr( Sum({$<ТипДокумента={2}, ТипПериода={~~~Current~~~}>} ВП)/Sum({<Склад,ТипДокумента={2}, ТипПериода={~~~Current~~~}>} TOTAL ВП), @(Измерение(ГруппаСклад)), @(Измерение(ГруппаКлассификатор))),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ДоляСуммыНаценкиКомпании.Заголовок = Доля наценки по компании;
SET ДоляСуммыНаценкиКомпании.Описание = Доля наценки по компании в целом;
let ПрцРентВП = replace(replace('Num((@(СуммаВП)/@(СуммаПродажи)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПрцРентВП.Заголовок = % Валовой Прибыли;
SET ПрцРентВП.Описание = % Валовой прибыли;
let ПланРентВП = replace(replace('Num((@(ПланВП)/@(ПланПродаж)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПланРентВП.Заголовок = План по % Валовой Прибыли;
SET ПланРентВП.Описание = План по %  Валовой прибыли;
let ПланРентВППолный = replace(replace('Num((@(ПланВППолный)/@(ПланПродажПолный)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПланРентВППолный.Заголовок = План по % Валовой Прибыли полный месяц;
SET ПланРентВППолный.Описание = План по % Валовой прибыли полный месяц;
let ПФРентВП = replace(replace('Num((@(ПрцРентВП)/@(ПланРентВП)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПФРентВП.Заголовок = ПФ % Валовой Прибыли;
SET ПФРентВП.Описание = ПФ % Валовой прибыли;
let П_Ф_РентВП = replace(replace('Num((@(ПланРентВП)-@(ПрцРентВП)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET П_Ф_РентВП.Заголовок = П-Ф % Валовой Прибыли;
SET П_Ф_РентВП.Описание = П-Ф % Валовой прибыли;
let РентВППредГод = replace(replace('Num((@(ВППредГод)/@(ПродажиПредГод)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET РентВППредГод.Заголовок = % Валовой Прибыли пред. (1) Год;
SET РентВППредГод.Описание = % Валовой Прибыли за предыдущий год;
let ПроцентРентВППредГод = replace(replace('Num(@(ПрцРентВП)/@(РентВППредГод),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентРентВППредГод.Заголовок = % изм. % Валовой Прибыли к пред. (1) Год;
SET ПроцентРентВППредГод.Описание = Процент Валовой Прибыли к предыдущему году;
let СуммаРостаРентВППредГод = replace(replace('Num(@(ПрцРентВП)-@(РентВППредГод),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаРентВППредГод.Заголовок = ∆ изм. % Валовой Прибыли к пред. (1) Год;
SET СуммаРостаРентВППредГод.Описание = сумма изм % Валовой Прибыли к предыдущему году;
let РентВППредГод2 = replace(replace('Num((@(ВППредГод2)/@(ПродажиПредГод2)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET РентВППредГод2.Заголовок = % Валовой Прибыли пред. (2) Год;
SET РентВППредГод2.Описание = % Валовой Прибыли за предпредыдущий год;
let ПроцентРентВППредГод2 = replace(replace('Num(@(ПрцРентВП)/@(РентВППредГод2),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентРентВППредГод2.Заголовок = % изм. % Валовой Прибыли к пред. (2) Год;
SET ПроцентРентВППредГод2.Описание = Процент изм. % Валовой Прибыли к предыдущему году;
let СуммаРостаРентВППредГод2 = replace(replace('Num(@(ПрцРентВП)-@(РентВППредГод2),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаРентВППредГод2.Заголовок = ∆ изм. % Валовой Прибыли к пред. (2) Год;
SET СуммаРостаРентВППредГод2.Описание = сумма изм. % Валовой Прибыли к предпредыдущему году;
let РентВППредГодДеньНедели = replace(replace('Num((@(ВППредГод)/@(ПродажиПредГодДеньНедели)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET РентВППредГодДеньНедели.Заголовок = % Валовой Прибыли пред. (1) Год;
SET РентВППредГодДеньНедели.Описание = % Валовой Прибыли за предыдущий год;
let ПроцентРентВППредГодДеньНедели = replace(replace('Num(@(ПрцРентВП)/@(РентВППредГодДеньНедели),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентРентВППредГодДеньНедели.Заголовок = % изм. % Валовой Прибыли к пред. (1) Год;
SET ПроцентРентВППредГодДеньНедели.Описание = Процент Валовой Прибыли к предыдущему году;
let СуммаРостаРентВППредГодДеньНедели = replace(replace('Num(@(ПрцРентВП)-@(РентВППредГодДеньНедели),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаРентВППредГодДеньНедели.Заголовок = ∆ изм. % Валовой Прибыли к пред. (1) Год;
SET СуммаРостаРентВППредГодДеньНедели.Описание = Сумма изм % Валовой Прибыли к предыдущему году;
let РентВППредГод2ДеньНедели = replace(replace('Num((@(ВППредГод2)/@(ПродажиПредГод2ДеньНедели)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET РентВППредГод2ДеньНедели.Заголовок = % Валовой Прибыли пред. (2) Год;
SET РентВППредГод2ДеньНедели.Описание = % Валовой Прибыли за предпредыдущий год;
let ПроцентРентВППредГод2ДеньНедели = replace(replace('Num(@(ПрцРентВП)/@(РентВППредГод2ДеньНедели),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентРентВППредГод2ДеньНедели.Заголовок = % изм. % Валовой Прибыли к пред. (2) Год;
SET ПроцентРентВППредГод2ДеньНедели.Описание = Процент  изм. % Валовой Прибыли к предыдущему году;
let СуммаРостаРентВППредГод2ДеньНедели = replace(replace('Num(@(ПрцРентВП)-@(РентВППредГод2ДеньНедели),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаРентВППредГод2ДеньНедели.Заголовок = ∆ изм. % Валовой Прибыли к пред. (2) Год;
SET СуммаРостаРентВППредГод2ДеньНедели.Описание = Сумма изм. % Валовой Прибыли к предпредыдущему году;
let РентВППредМес = replace(replace('Num((@(ВППредМес)/@(ПродажиПредМес)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET РентВППредМес.Заголовок = % Валовой Прибыли пред месяц;
SET РентВППредМес.Описание = % Валовой Прибыли за предпредыдущий месяц;
let ПроцентРентВППредМес = replace(replace('Num(@(ПрцРентВП)/@(РентВППредМес),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентРентВППредМес.Заголовок = % изм. % Валовой Прибыли к пред. месяцу;
SET ПроцентРентВППредМес.Описание = Процент  изм. % Валовой Прибыли к предыдущему месяцу;
let СуммаРостаРентВППредМес = replace(replace('Num(@(ПрцРентВП)-@(РентВППредМес),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаРентВППредМес.Заголовок = ∆ изм. % Валовой Прибыли к пред месяцу;
SET СуммаРостаРентВППредМес.Описание = Сумма изм. % Валовой Прибыли к предпредыдущему месяцу;
let ПрцНаценки = replace(replace('Num((@(СуммаВП)/@(УчСебестоимостьПолный)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПрцНаценки.Заголовок = % Наценки;
SET ПрцНаценки.Описание = % Наценки;
let ПрцНаценкиПредГод = replace(replace('Num((@(ВППредГод)/@(УчСебестоимостьПолныйПредГод)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПрцНаценкиПредГод.Заголовок = % Наценки пред.(1) Год;
SET ПрцНаценкиПредГод.Описание = % Наценки за предыдущий год;
let ПроцентПрцНаценкиПредГод = replace(replace('Num(@(ПрцНаценки)/@(ПрцНаценкиПредГод),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПрцНаценкиПредГод.Заголовок = % изм. Наценки к пред.(1) Год;
SET ПроцентПрцНаценкиПредГод.Описание = Процент Наценки к предыдущему году;
let СуммаРостаПрцНаценкиПредГод = replace(replace('Num(@(ПрцНаценки)-@(ПрцНаценкиПредГод),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаПрцНаценкиПредГод.Заголовок = ∆ изм. Наценки к пред.(1) Год;
SET СуммаРостаПрцНаценкиПредГод.Описание = Сумма изм Наценки к предыдущему году;
let ПрцНаценкиПредМесяц = replace(replace('Num((@(ВППредМес)/@(УчСебестоимостьПолныйПредМесяц)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПрцНаценкиПредМесяц.Заголовок = % Наценки пред месяц;
SET ПрцНаценкиПредМесяц.Описание = % Наценки за предыдущий месяц;
let ПроцентПрцНаценкаПредМес = replace(replace('Num(@(ПрцНаценки)/@(ПрцНаценкиПредМесяц),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПрцНаценкаПредМес.Заголовок = % Наценки к пред месяцу;
SET ПроцентПрцНаценкаПредМес.Описание = Процент Наценки к предыдущему месяцу;
let СуммаРостаПрцНаценкаПредМес = replace(replace('Num(@(ПрцНаценки)-@(ПрцНаценкиПредМесяц),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаПрцНаценкаПредМес.Заголовок = ∆ изм. Наценки к пред месяцу;
SET СуммаРостаПрцНаценкаПредМес.Описание = Сумма изм Наценки к предыдущему месяцу;
let ПрцНаценкиПредГод2 = replace(replace('Num((@(ВППредГод2)/@(УчСебестоимостьПолныйПредГод2)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПрцНаценкиПредГод2.Заголовок = % Наценки пред.(2) Год;
SET ПрцНаценкиПредГод2.Описание = % Наценки за предпредыдущий год;
let ПроцентПрцНаценкиПредГод2 = replace(replace('Num(@(ПрцНаценки)/@(ПрцНаценкиПредГод2),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПрцНаценкиПредГод2.Заголовок = % изм. Наценки к пред.(2) Год;
SET ПроцентПрцНаценкиПредГод2.Описание = Процент Наценки к предпредыдущему году;
let СуммаРостаПрцНаценкиПредГод2 = replace(replace('Num(@(ПрцНаценки)-@(ПрцНаценкиПредГод2),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаПрцНаценкиПредГод2.Заголовок = ∆ изм. Наценки к пред.(2) Год;
SET СуммаРостаПрцНаценкиПредГод2.Описание = Сумма изм Наценки к предпредыдущему году;
let ПрцНаценкиПредГодДеньНедели = replace(replace('Num((@(ВППредГод)/@(УчСебестоимостьПолныйПредГодДеньНедели)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПрцНаценкиПредГодДеньНедели.Заголовок = % Наценки пред.(1) Год тот же день недели;
SET ПрцНаценкиПредГодДеньНедели.Описание = % Наценки за предыдущий год тот же день недели;
let ПроцентПрцНаценкиПредГодДеньНедели = replace(replace('Num(@(ПрцНаценки)/@(ПрцНаценкиПредГодДеньНедели),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПрцНаценкиПредГодДеньНедели.Заголовок = % изм. Наценки к пред.(1) Год тот же день недели;
SET ПроцентПрцНаценкиПредГодДеньНедели.Описание = Процент Наценки к предыдущему году тот же день недели;
let СуммаРостаПрцНаценкиПредГодДеньНедели = replace(replace('Num(@(ПрцНаценки)-@(ПрцНаценкиПредГодДеньНедели),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаПрцНаценкиПредГодДеньНедели.Заголовок = ∆ изм. Наценки к пред.(1) Год тот же день недели;
SET СуммаРостаПрцНаценкиПредГодДеньНедели.Описание = Сумма изм Наценки к предыдущему году тот же день недели;
let ПрцНаценкиПредГод2ДеньНедели = replace(replace('Num((@(ВППредГод2)/@(УчСебестоимостьПолныйПредГод2ДеньНедели)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПрцНаценкиПредГод2ДеньНедели.Заголовок = % Наценки пред.(2) Год тот же день недели;
SET ПрцНаценкиПредГод2ДеньНедели.Описание = % Наценки за предпредыдущий год тот же день недели;
let ПроцентПрцНаценкиПредГод2ДеньНедели = replace(replace('Num(@(ПрцНаценки)/@(ПрцНаценкиПредГод2ДеньНедели),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПрцНаценкиПредГод2ДеньНедели.Заголовок = % изм. Наценки к пред.(2) Год тот же день недели;
SET ПроцентПрцНаценкиПредГод2ДеньНедели.Описание = Процент Наценки к предпредыдущему году тот же день недели;
let СуммаРостаПрцНаценкиПредГод2ДеньНедели = replace(replace('Num(@(ПрцНаценки)-@(ПрцНаценкиПредГод2ДеньНедели),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаПрцНаценкиПредГод2ДеньНедели.Заголовок = ∆ изм. Наценки к пред.(2) Год тот же день недели;
SET СуммаРостаПрцНаценкиПредГод2ДеньНедели.Описание = Сумма изм Наценки к предпредыдущему году тот же день недели;
let ПланПрцНаценка = replace(replace('Money(@(ПланПродажТыс)/(@(ПланПродажТыс)-@(ПланВПТыс))-1,~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПланПрцНаценка.Заголовок = План по % Наценки;
SET ПланПрцНаценка.Описание = План по % Наценки;
let ПланПрцНаценкаПолный = replace(replace('Money(@(ПланПродажПолныйТыс)/(@(ПланПродажПолныйТыс)-@(ПланВППолныйТыс))-1,~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПланПрцНаценкаПолный.Заголовок = План по % Наценки полный месяц;
SET ПланПрцНаценкаПолный.Описание = План по % Наценки полный месяц;
let ПФПрцНаценка = replace(replace('Money(@(ПрцНаценки)/@(ПланПрцНаценка),~~~# ##0,0%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПФПрцНаценка.Заголовок = ПФ % Наценки;
SET ПФПрцНаценка.Описание = ПФ % Наценки;
let П_Ф_ПрцНаценка = replace(replace('Money(@(ПрцНаценки)-@(ПланПрцНаценка),~~~# ##0,0%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET П_Ф_ПрцНаценка.Заголовок = ∆ П-Ф % Наценки;
SET П_Ф_ПрцНаценка.Описание = П-Ф % Наценки;
let ОстаткиКоличествоСреднее = replace(replace('(Sum({$<ТипДокумента = {10},@(СбросФильтраПоОстаткам),ТипПериода={~~~Current~~~}>} Количество) / @(КоличествоДней))','~~~', chr(39)), '@(', chr(36) & '(');
SET ОстаткиКоличествоСреднее.Заголовок = Среднедневные Остатки за период, шт.;
SET ОстаткиКоличествоСреднее.Описание = Остатки среднее количество, шт;
let ОстатокШтукНаКонецПериода_Формула = replace(replace('Sum({<ТипПериода={~~~Current~~~},ТипДокумента={11},@(СбросФильтраПоОстаткам),Дата={"@(=Max({<@(СбросФильтраПоОстаткам),_ФлагДействующаяДата={1}>} Дата))"}>} Количество)','~~~', chr(39)), '@(', chr(36) & '(');
let ОстатокШтукНаКонецПериода = replace(replace('Money(@(ОстатокШтукНаКонецПериода_Формула),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОстатокШтукНаКонецПериода.Заголовок = Остатки на конец периода, шт;
SET ОстатокШтукНаКонецПериода.Описание = Складские остатки в штуках на конец периода, шт;
let ОстатокСебестоимостьНаКонецПериода_Формула = replace(replace('Sum({<ТипПериода={~~~Current~~~},ТипДокумента={11},@(СбросФильтраПоОстаткам),Дата={"@(=Max({<@(СбросФильтраПоОстаткам),_ФлагДействующаяДата={1}>} Дата))"}>} Себестоимость)','~~~', chr(39)), '@(', chr(36) & '(');
let ОстатокСебестоимостьНаКонецПериода = replace(replace('Money(@(ОстатокСебестоимостьНаКонецПериода_Формула),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОстатокСебестоимостьНаКонецПериода.Заголовок = Остатки по себестоимости, руб;
SET ОстатокСебестоимостьНаКонецПериода.Описание = Складские остатки по себестоимости на конец периода, руб;
let ОстатокШтукНаКонецДня_Формула = replace(replace('(Sum({<@(СбросФильтраПоОстаткам),_ФлагДействующаяДата={1},ТипПериода={~~~OnHand_Sum~~~},ТипДокумента={9}>} Количество) + Sum({<@(СбросФильтраПоОстаткам),_ФлагДействующаяДата={1},ТипПериода={~~~OnHand_Eom~~~},ТипДокумента={11}>} Количество))','~~~', chr(39)), '@(', chr(36) & '(');
let ОстатокШтукНаКонецДня = replace(replace('Money(@(ОстатокШтукНаКонецДня_Формула),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОстатокШтукНаКонецДня.Заголовок = Остаток на конец периода, шт;
SET ОстатокШтукНаКонецДня.Описание = Складские остатки в штуках на конец дня, шт;
let ОстатокСебестоимостьНаКонецДня_Формула = replace(replace('(Sum({<@(СбросФильтраПоОстаткам),ТипПериода={~~~OnHand_Sum~~~},ТипДокумента={9}>} Себестоимость) + Sum({<@(СбросФильтраПоОстаткам),ТипПериода={~~~OnHand_Eom~~~},ТипДокумента={11}>} Себестоимость))','~~~', chr(39)), '@(', chr(36) & '(');
let ОстатокСебестоимостьНаКонецДня = replace(replace('Money(@(ОстатокСебестоимостьНаКонецДня_Формула),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОстатокСебестоимостьНаКонецДня.Заголовок = Себестоимость остатков на конец дня, руб;
SET ОстатокСебестоимостьНаКонецДня.Описание = Себестоимость складских остатков на конец дня, руб;
let ПродажиСуммаСреднедневные = replace(replace('Money((@(СуммаПродажи) / Count({<_ФлагДействующаяДата={1}>} TOTAL DISTINCT Дата)),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПродажиСуммаСреднедневные.Заголовок = Среденедневная покупка, руб;
SET ПродажиСуммаСреднедневные.Описание = Среднедневная сумма продаж за выбранный период, руб;
let ПродажиКоличествоСреднедневные = replace(replace('Money((@(ПродажиКоличество) / Count({<_ФлагДействующаяДата={1}>} TOTAL DISTINCT Дата)),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПродажиКоличествоСреднедневные.Заголовок = Среднедневная покупка за выбранный период, шт;
SET ПродажиКоличествоСреднедневные.Описание = Среднедневное количество проданного товара за выбранный период, шт;
let T30 = replace(replace('Money(Sum({$<ТипДокумента ={2},ТипПериода={~~~Current~~~}, Дата={~~~>=@(=Date(Max({<_ФлагДействующаяДата={1}>} Дата)-29))<=@(=Date(Max({<_ФлагДействующаяДата={1}>} Дата)))~~~}>} Количество)/30,~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET T30.Заголовок = Ср мес продажи (30), шт;
SET T30.Описание = Среднедневная покупка, за последние 30 дней от конечной даты выбранного периода, шт;
let ЗапасыВДнях30 = replace(replace(' Money(if((@(T30))=0 and (@(ОстатокШтукНаКонецПериода_Формула))>0,30000, if((@(ОстатокШтукНаКонецПериода_Формула))<>0 and (@(T30))<=0,0, if((@(ОстатокШтукНаКонецПериода_Формула))<=0 and (@(T30))>0,0, if((@(ОстатокШтукНаКонецПериода_Формула))=0 and (@(T30))=0,0, (@(ОстатокШтукНаКонецПериода_Формула))/(@(T30)))))),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ЗапасыВДнях30.Заголовок = Запас в Днях (30);
SET ЗапасыВДнях30.Описание = Запасы в днях на конец периода (исходя из продаж за 30 дней);
let T90 = replace(replace('Money(Sum({$<ТипДокумента ={2},ТипПериода={~~~Current~~~}, Дата={~~~>=@(=Date(Max({<_ФлагДействующаяДата={1}>} Дата)-89))<=@(=Date(Max({<_ФлагДействующаяДата={1}>} Дата)))~~~}>} Количество)/90,~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET T90.Заголовок = Ср мес продажи (90), шт;
SET T90.Описание = Среднедневная покупка, за последние 90 дней от конечной даты выбранного периода, шт;
let ЗапасыВДнях90 = replace(replace(' Money(if((@(T30))=0 and (@(ОстатокШтукНаКонецПериода_Формула))>0,30000, if((@(ОстатокШтукНаКонецПериода_Формула))<>0 and (@(T90))<=0,0, if((@(ОстатокШтукНаКонецПериода_Формула))<=0 and (@(T90))>0,0, if((@(ОстатокШтукНаКонецПериода_Формула))=0 and (@(T90))=0,0, (@(ОстатокШтукНаКонецПериода_Формула))/(@(T90)))))),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ЗапасыВДнях90.Заголовок = Запас в Днях (90);
SET ЗапасыВДнях90.Описание = Запасы в днях на конец периода (исходя из продаж 90 дней);
SET СбросФильтраПоОстаткам = КлиентСсылка,Клиент;
SET СбросФильтраПоПланам = КодНоменклатуры,Номенклатура,Уровень4,Уровень3,ШкалаЛиквидности;
SET ПоляПоиска = Номенклатура,Логист,КатегорийныйМенеджер,МенеджерПродаж,Клиент,Бренд,Группа,Подгруппа,РекламнаяАкцияИстория;
let ОстаткиСебестоимость = replace(replace('Sum({<@(СбросФильтраПоОстаткам),ТипДокумента={11}, _ДеньПоПорядку={~~~@(=Max({<_ФлагДействующаяДата={1},_КонецНеделиМесяца={1}>} _ДеньПоПорядку))~~~}, ТипПериода={~~~Current~~~}>} Себестоимость)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОстаткиСебестоимость.Заголовок = Остатки на конец полного (мес) периода по себестоимости, руб;
SET ОстаткиСебестоимость.Описание = Остаток себестоимость на конец выбранного периода, руб;
let ОстаткиСебестоимостьПоШкалеЛиквидности = replace(replace('Money((Sum({$<ТипДокумента = {10},ТипПериода={~~~Current~~~},ВидДеятельности,КодКлиента,Клиент,ГруппаКлиента>} Себестоимость) / @(КоличествоДней))/1000,~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОстаткиСебестоимостьПоШкалеЛиквидности.Заголовок = Остатки средние, руб;
SET ОстаткиСебестоимостьПоШкалеЛиквидности.Описание = Остатки средняя себестоимость по суммам, руб;
let ОстаткиСебестоимостьТыс = replace(replace('Money((@(ОстаткиСебестоимость)/1000),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОстаткиСебестоимостьТыс.Заголовок = Остатки на конец полного (мес) периода в сред Закуп. Ценах, тыс.руб.;
SET ОстаткиСебестоимостьТыс.Описание = Остаток себестоимость на конец выбранного периода тыс. руб.;
let Остатки = replace(replace('Money(Sum({$<ТипДокумента = {10},ТипПериода={~~~Current~~~},@(СбросФильтраПоОстаткам)>} Себестоимость) / Sum({<_КонецМесяца={1},ТипПериода={~~~Current~~~}>} _ДнейПрошлогоПериодаВМесяце),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET Остатки.Заголовок = Остатки средние, руб;
SET Остатки.Описание = Остатки себестоимость среднедневная за выбранный период, руб;
let ОстаткиТысМесяц = replace(replace('Money(@(Остатки)/1000,~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОстаткиТысМесяц.Заголовок = Остатки средние, тыс.руб;
SET ОстаткиТысМесяц.Описание = Остатки себестоимость среднедневная за выбранный период, тыс. руб.;
let Остатки30 = replace(replace('Money(Sum({$<ТипДокумента = {12},ТипПериода={~~~Current~~~},@(СбросФильтраПоОстаткам)>} Себестоимость) / 30,~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET Остатки30.Заголовок = Остатки средние 30 дней, руб;
SET Остатки30.Описание = Остатки себестоимость среднедневная за последние 30 дней, руб;
let ОстаткиТыс = replace(replace('@(@(=If(InMonth(Only(ГодМесяц),@(vU.CurrentDate),0),~~~Остатки30Тыс~~~,~~~ОстаткиТысМесяц~~~)))','~~~', chr(39)), '@(', chr(36) & '(');
let ОстаткиТыс.Заголовок = replace(replace('=If(InMonth(Only(ГодМесяц),@(vU.CurrentDate),0),~~~Остатки средние 30 дней тыс. руб.~~~,~~~Остатки средние тыс. руб.~~~)','~~~', chr(39)), '@(', chr(36) & '(');
let ОстаткиТыс.Описание = replace(replace('=If (InMonth(Only(ГодМесяц),@(vU.CurrentDate),0),~~~Остатки себестоимость среднедневная за последние 30 дней~~~,~~~Остатки средняя себестоимость в тыс. руб.~~~)','~~~', chr(39)), '@(', chr(36) & '(');
let Остатки30Тыс = replace(replace(' Num(@(Остатки30)/1000,~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET Остатки30Тыс.Заголовок = Остатки средние 30 дней в тыс. руб.;
SET Остатки30Тыс.Описание = Остатки средняя себестоимость в тыс. руб. за последние 30 дней;
let ДоляСуммыОстатковГруппы = replace(replace('Money(Aggr( Sum({$<ТипДокумента={10}, ТипПериода={~~~Current~~~},@(СбросФильтраПоОстаткам)>} Себестоимость)/Sum({$<ТипДокумента={10}, ТипПериода={~~~Current~~~},@(СбросФильтраПоОстаткам)>} TOTAL <@(Измерение(ГруппаСклад))> Себестоимость), @(Измерение(ГруппаСклад)), @(Измерение(ГруппаКлассификатор))),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ДоляСуммыОстатковГруппы.Заголовок = Доля остатков группы по магазину;
SET ДоляСуммыОстатковГруппы.Описание = Доля остатков группы товара по магазину;
let ДоляСуммыОстатковСклад = replace(replace('Money(Aggr( Sum({$<ТипДокумента={10}, ТипПериода={~~~Current~~~},@(СбросФильтраПоОстаткам)>} Себестоимость)/Sum({$<ТипДокумента={10}, ТипПериода={~~~Current~~~},@(СбросФильтраПоОстаткам)>} TOTAL <@(Измерение(ГруппаКлассификатор))> Себестоимость), @(Измерение(ГруппаКлассификатор)), @(Измерение(ГруппаСклад))),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ДоляСуммыОстатковСклад.Заголовок = Доля остатков склада по группе;
SET ДоляСуммыОстатковСклад.Описание = Доля остатков склада по группе товаров;
let ДоляСуммыОстатковКомпании = replace(replace('Money(Aggr( Sum({$<ТипДокумента={10}, ТипПериода={~~~Current~~~},@(СбросФильтраПоОстаткам)>} Себестоимость)/Sum({<Склад,ТипДокумента={10}, ТипПериода={~~~Current~~~},@(СбросФильтраПоОстаткам)>} TOTAL Себестоимость), @(Измерение(ГруппаСклад)), @(Измерение(ГруппаКлассификатор))),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ДоляСуммыОстатковКомпании.Заголовок = Доля остатков по компании;
SET ДоляСуммыОстатковКомпании.Описание = Доля остатков по компании в целом;
let ПланОстатки = replace(replace('Num(Sum({$<ТипДокумента = {13},ТипПериода={~~~Current~~~}>} Себестоимость) / @(КоличествоДнейВключаяБудущийПериод),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПланОстатки.Заголовок = План остатки, руб;
SET ПланОстатки.Описание = Плановые остатки средние (расчет), руб;
let ПланОстаткиТыс = replace(replace('Num((Sum({$<ТипДокумента = {13},ТипПериода={~~~Current~~~}>} Себестоимость) / @(КоличествоДнейВключаяБудущийПериод))/1000,~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПланОстаткиТыс.Заголовок = План остатки , тыс.руб.;
SET ПланОстаткиТыс.Описание = Плановые остатки средние (расчет) , тыс. руб.;
let ПФ_Остатки = replace(replace('Num(@(ОстаткиТыс)/@(ПланОстаткиТыс),~~~# ##0,0%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПФ_Остатки.Заголовок = % отношения к плановым Остатков в сред. Закуп. Ценах;
SET ПФ_Остатки.Описание = Факт отнесенный к плану по остаткам;
let П_Ф_Остатки = replace(replace('Num( (-@(ПланОстатки)+(@(ОстаткиТыс)/1000)),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET П_Ф_Остатки.Заголовок = ∆ П-Ф остатков, руб.;
SET П_Ф_Остатки.Описание = План минус  факт по остаткам;
let П_Ф_ОстаткиТыс = replace(replace('Num((@(П_Ф_Остатки))/1000,~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET П_Ф_ОстаткиТыс.Заголовок = ∆ П-Ф остатков тыс. руб.;
SET П_Ф_ОстаткиТыс.Описание = План минус  факт по остаткам;
let ОстаткиПредГодОбщие = replace(replace('Num((Sum({<ТипДокумента = {10},ТипПериода={~~~КонецМесяцаГод~~~},@(СбросФильтраПоОстаткам)>} Себестоимость)/1000),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОстаткиПредГодОбщие.Заголовок = Остатки пред год, руб;
SET ОстаткиПредГодОбщие.Описание = Остатки себестоимость по суммам за предыдущий год, руб;
let ОстаткиПредГод = replace(replace('Num((Sum({<ТипДокумента = {10},ТипПериода={~~~КонецМесяцаГод~~~},@(СбросФильтраПоОстаткам)>} Себестоимость)/1000) / Sum({<_КонецМесяца={1},ТипПериода={~~~КонецМесяцаГод~~~}>} _ДнейПрошлогоПериодаВМесяце),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОстаткиПредГод.Заголовок = Остатки средние пред.(1) Год, руб;
SET ОстаткиПредГод.Описание = Остатки  средняя себестоимость по суммам за предыдущий год, руб;
let ПроцентОстаткиПредГод = replace(replace('Num((@(ОстаткиТыс))/(@(ОстаткиПредГод)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентОстаткиПредГод.Заголовок = % Остатков к пред году;
SET ПроцентОстаткиПредГод.Описание = Процент Остатков к предыдущему году;
let СуммаРостаОстаткиПредГод = replace(replace('Num((@(ОстаткиТыс))-(@(ОстаткиПредГод)),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаОстаткиПредГод.Заголовок = СуммаРостаОстатков к пред году;
SET СуммаРостаОстаткиПредГод.Описание = СуммаРоста Остатков к предыдущему году;
let ОстаткиПредГод2Общие = replace(replace('Num((Sum({<ТипДокумента = {10},ТипПериода={~~~КонецМесяцаГод2~~~},@(СбросФильтраПоОстаткам)>} Себестоимость)/1000),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОстаткиПредГод2Общие.Заголовок = Остатки пред.(2) Год, руб;
SET ОстаткиПредГод2Общие.Описание = Остатки себестоимость по суммам за предпредыдущий год, руб;
let ОстаткиПредГод2 = replace(replace('Num(((Sum({<ТипДокумента = {10},ТипПериода={~~~КонецМесяцаГод2~~~},@(СбросФильтраПоОстаткам)>} Себестоимость)/1000) / Sum({<_КонецМесяца={1},ТипПериода={~~~КонецМесяцаГод2~~~}>} _ДнейПрошлогоПериодаВМесяце)),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОстаткиПредГод2.Заголовок = Остатки средние пред.(2) Год, руб;
SET ОстаткиПредГод2.Описание = Остатки  средняя себестоимость по суммам за предпредыдущий год, руб;
let ПроцентОстаткиПредГод2 = replace(replace('Num((@(ОстаткиТыс))/(@(ОстаткиПредГод2)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентОстаткиПредГод2.Заголовок = % Остатков к пред.(2) Году;
SET ПроцентОстаткиПредГод2.Описание = Процент Остатков к предпредыдущему го;
let СуммаРостаОстаткиПредГод2 = replace(replace('Num((@(ОстаткиТыс))-(@(ОстаткиПредГод2)),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаОстаткиПредГод2.Заголовок = СуммаРоста Остатков к пред.(2) Году;
SET СуммаРостаОстаткиПредГод2.Описание = СуммаРоста Остатков к предпредыдущему году;
let ОстаткиПредМесОбщие = replace(replace('Num((Sum({<ТипДокумента = {10},ТипПериода={~~~ГодМесяц~~~},@(СбросФильтраПоОстаткам)>} Себестоимость)/1000),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОстаткиПредМесОбщие.Заголовок = Остатки пред месяц, руб;
SET ОстаткиПредМесОбщие.Описание = Остатки себестоимость по суммам за предыдущий месяц, руб;
let ОстаткиПредМес = replace(replace('Num(((Sum({<ТипДокумента = {10},ТипПериода={~~~ГодМесяц~~~},@(СбросФильтраПоОстаткам)>} Себестоимость)/1000) / Sum({<_КонецМесяца={1},ТипПериода={~~~КонецМесяца~~~}>} _ДнейПрошлогоПериодаВМесяце)),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОстаткиПредМес.Заголовок = Остатки средние пред месяц, руб;
SET ОстаткиПредМес.Описание = Остатки  средняя себестоимость по суммам за предыдущий месяц, руб;
let ПроцентОстаткиПредМес = replace(replace('Num((@(ОстаткиТыс))/(@(ОстаткиПредМес)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентОстаткиПредМес.Заголовок = % Остатков к пред месяцу;
SET ПроцентОстаткиПредМес.Описание = Процент Остатков к предыдущему месяцу;
let СуммаРостаОстаткиПредМес = replace(replace('Num((@(ОстаткиТыс))-(@(ОстаткиПредМес)),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаОстаткиПредМес.Заголовок = СуммаРоста Остатков к пред месяцу;
SET СуммаРостаОстаткиПредМес.Описание = СуммаРоста Остатков к предыдущему месяцу;
SET УчСебестоимостьПолный = Num((Sum({<ТипДокумента = {2},_ФлагДействующаяДата={1},ТипПериода={'Current'}>}Себестоимость)),'# ##0,0');
SET УчСебестоимостьПолный.Заголовок = Себестоимость, руб;
SET УчСебестоимостьПолный.Описание = Учетная себестоимость, руб;
SET УчСебестоимостьПолныйПредГод = Num((Sum({<ТипДокумента = {2},_ФлагДействующаяДата={1},ТипПериода={'Год'}>}Себестоимость)/1000),'# ##0,0');
SET УчСебестоимостьПолныйПредГод.Заголовок = Себестоимость пред год, руб;
SET УчСебестоимостьПолныйПредГод.Описание = Учетная себестоимость за предыдущий год, руб;
SET УчСебестоимостьПолныйПредГод2 = Num((Sum({<ТипДокумента = {2},_ФлагДействующаяДата={1},ТипПериода={'Год-2'}>}Себестоимость)/1000),'# ##0,0');
SET УчСебестоимостьПолныйПредГод2.Заголовок = Себестоимость пред.(2) Год, руб;
SET УчСебестоимостьПолныйПредГод2.Описание = Учетная себестоимость за предпредыдущий год, руб;
SET УчСебестоимостьПолныйПредГодДеньНедели = Num((Sum({<ТипДокумента = {2},_ФлагДействующаяДата={1},ТипПериода={'ГодДеньНедели'}>}Себестоимость)/1000),'# ##0,0');
SET УчСебестоимостьПолныйПредГодДеньНедели.Заголовок = Себестоимость пред год тот же день недели, руб;
SET УчСебестоимостьПолныйПредГодДеньНедели.Описание = Учетная себестоимость за предыдущий год тот же день недели, руб;
SET УчСебестоимостьПолныйПредГод2ДеньНедели = Num((Sum({<ТипДокумента = {2},_ФлагДействующаяДата={1},ТипПериода={'Год2ДеньНедели'}>}Себестоимость)/1000),'# ##0,0');
SET УчСебестоимостьПолныйПредГод2ДеньНедели.Заголовок = Себестоимость пред.(2) Год тот же день недели, руб;
SET УчСебестоимостьПолныйПредГод2ДеньНедели.Описание = Учетная себестоимость за предпредыдущий год тот же день недели, руб;
SET УчСебестоимостьПолныйПредМесяц = Num((Sum({<ТипДокумента = {2},_ФлагДействующаяДата={1},ТипПериода={'ГодМесяц'}>}Себестоимость)/1000),'# ##0,0');
SET УчСебестоимостьПолныйПредМесяц.Заголовок = Себестоимость пред месяц, руб;
SET УчСебестоимостьПолныйПредМесяц.Описание = Учетная себестоимость за предыдущий месяц, руб;
let ОборачиваемостьМесяц = replace(replace('if (@(УчСебестоимостьПолный) = 0,null(),Money((Sum({$<ТипДокумента = {10},@(СбросФильтраПоОстаткам),ТипПериода={~~~Current~~~}>} Себестоимость) / (@(УчСебестоимостьПолный))),~~~# ##0,0~~~))','~~~', chr(39)), '@(', chr(36) & '(');
SET ОборачиваемостьМесяц.Заголовок = Оборачиваемость, дни;
SET ОборачиваемостьМесяц.Описание = Оборачиваемость (считается только вплоть до месяцов), дни;
let Оборачиваемость30 = replace(replace('Money(Sum({$<ТипДокумента = {12},ТипПериода={~~~Current~~~},@(СбросФильтраПоОстаткам)>} Себестоимость) / Sum({$<ТипДокумента = {12},ТипПериода={~~~Current~~~},@(СбросФильтраПоОстаткам)>} Сумма),~~~# ##0,0~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET Оборачиваемость30.Заголовок = Оборачиваемость за 30 дней, дни;
SET Оборачиваемость30.Описание = Оборачиваемость товаров за последние 30 дней, дни;
let Оборачиваемость = replace(replace('Money(@(@(=If(InMonth(Only(ГодМесяц),@(vU.CurrentDate),0),~~~Оборачиваемость30~~~,~~~ОборачиваемостьМесяц~~~))),~~~# ##0,0~~~)','~~~', chr(39)), '@(', chr(36) & '(');
let Оборачиваемость.Заголовок = replace(replace('=If(InMonth(Only(ГодМесяц),@(vU.CurrentDate),0),~~~Оборачиваемость за 30 дней, дни~~~,~~~Оборачиваемость, дни~~~)','~~~', chr(39)), '@(', chr(36) & '(');
let Оборачиваемость.Описание = replace(replace('=If(InMonth(Only(ГодМесяц),@(vU.CurrentDate),0),~~~Оборачиваемость товаров за последние 30 дней, дни~~~,~~~Оборачиваемость (считается только вплоть до месяцов), дни~~~)','~~~', chr(39)), '@(', chr(36) & '(');
let ПланОборачиваемость = replace(replace('Money((Sum({$<ТипДокумента = {13},ТипПериода={~~~Current~~~}>} Себестоимость) / (@(ПланПродаж) - @(ПланВП))),~~~# ##0,0~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПланОборачиваемость.Заголовок = План Оборачиваемость, дни;
SET ПланОборачиваемость.Описание = План по оборачиваемости, дни;
let ПланОборачиваемость2 = replace(replace('Money(Sum({$<ТипДокумента = {13},ТипПериода={~~~Current~~~}, @(СбросФильтраПоПланам)>} Себестоимость)/ (Sum({<_ФлагДействующаяДата={1},ТипДокумента={13},ТипПериода={~~~Current~~~}, @(СбросФильтраПоПланам)>} Сумма) - Sum({<_ФлагДействующаяДата={1},ТипДокумента={13},ТипПериода={~~~Current~~~}, @(СбросФильтраПоПланам)>} ВП)),~~~# ##0,0~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПланОборачиваемость2.Заголовок = План оборачиваемость2, дни;
SET ПланОборачиваемость2.Описание = План по оборачиваемости, дни;
let НормаОборачиваемость = replace(replace('Money(Avg({$<ТипДокумента = {21},@(СбросФильтраПоОстаткам),ШкалаЛиквидности,ТипПериода={~~~Current~~~}>} Количество),~~~# ##0,0~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET НормаОборачиваемость.Заголовок = Норматив оборачиваемости, дни;
SET НормаОборачиваемость.Описание = Норматив оборачиваемости по третьему уровню классификатора, дни;
let ПФ_Оборачиваемость = replace(replace('Num((@(Оборачиваемость)/@(ПланОборачиваемость)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПФ_Оборачиваемость.Заголовок = % вып. плана Оборачиваемости;
SET ПФ_Оборачиваемость.Описание = ПФ Оборачиваемость;
let П_Ф_Оборачиваемость = replace(replace('Num((-@(ПланОборачиваемость)+@(Оборачиваемость)),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET П_Ф_Оборачиваемость.Заголовок = ∆ П-Ф Оборачиваемость, дни;
SET П_Ф_Оборачиваемость.Описание = План минус  факт по оборачиваемости;
let ОборачиваемостьПредГод = replace(replace('Num(((@(ОстаткиПредГодОбщие))/(@(УчСебестоимостьПолныйПредГод))),~~~# ##0,0~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОборачиваемостьПредГод.Заголовок = Оборачиваемость пред. (1) Год, дни;
SET ОборачиваемостьПредГод.Описание = Оборачиваемость за предыдущий год, дни;
let ПроцентОборачиваемостьПредГод = replace(replace('Num(@(Оборачиваемость)/@(ОборачиваемостьПредГод),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентОборачиваемостьПредГод.Заголовок = % изм. Оборачиваемости к пред. (1) Год;
SET ПроцентОборачиваемостьПредГод.Описание = Процент Оборачиваемости к предыдущему году;
let СуммаРостаОборачиваемостьПредГод = replace(replace('Num(@(Оборачиваемость)-@(ОборачиваемостьПредГод),~~~# ##0,0~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаОборачиваемостьПредГод.Заголовок = ∆ изм. Оборачиваемости к пред. (1) Год, дни;
SET СуммаРостаОборачиваемостьПредГод.Описание = СуммаРоста Оборачиваемости к предыдущему году;
let ОборачиваемостьПредГод2 = replace(replace('Num(((@(ОстаткиПредГод2Общие))/(@(УчСебестоимостьПолныйПредГод2))),~~~# ##0,0~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОборачиваемостьПредГод2.Заголовок = Оборачиваемость пред. (2) Год, дни;
SET ОборачиваемостьПредГод2.Описание = Оборачиваемость за предпредыдущий год, дни;
let ПроцентОборачиваемостьПредГод2 = replace(replace('Num(@(Оборачиваемость)/@(ОборачиваемостьПредГод2),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентОборачиваемостьПредГод2.Заголовок = % изм. Оборачиваемости к пред. (2) Год;
SET ПроцентОборачиваемостьПредГод2.Описание = Процент Оборачиваемости к предыдущему году;
let СуммаРостаОборачиваемостьПредГод2 = replace(replace('Num(@(Оборачиваемость)-@(ОборачиваемостьПредГод2),~~~# ##0,0~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаОборачиваемостьПредГод2.Заголовок = ∆ изм. Оборачиваемости к пред. (2) Год, дни;
SET СуммаРостаОборачиваемостьПредГод2.Описание = СуммаРоста Оборачиваемости к предыдущему году;
let ОборачиваемостьПредМес = replace(replace('Num(((@(ОстаткиПредМесОбщие))/(@(УчСебестоимостьПолныйПредМесяц))),~~~# ##0,0~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОборачиваемостьПредМес.Заголовок = Оборачиваемость пред мес, дни;
SET ОборачиваемостьПредМес.Описание = Оборачиваемость за предыдущий месяц, дни;
let ПроцентОборачиваемостьПредМес = replace(replace('Num(@(Оборачиваемость)/@(ОборачиваемостьПредМес),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентОборачиваемостьПредМес.Заголовок = % Оборачиваемости к пред мес;
SET ПроцентОборачиваемостьПредМес.Описание = Процент Оборачиваемости к предыдущему месяц;
let СуммаРостаОборачиваемостьПредМес = replace(replace('Num(@(Оборачиваемость)-@(ОборачиваемостьПредМес),~~~# ##0,0~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаОборачиваемостьПредМес.Заголовок = СуммаРоста Оборачиваемости к пред мес;
SET СуммаРостаОборачиваемостьПредМес.Описание = СуммаРоста Оборачиваемости к предыдущему месяц;
SET СуммаСкидки = Num((Sum({$<ТипДокумента={2},ТипПериода={'Current'}>}Скидка)),'# ##0,00');
SET СуммаСкидки.Заголовок = Сумма скидки, руб;
SET СуммаСкидки.Описание = Сумма предоставленной скидки в руб.;
SET СуммаСкидкиТыс = Num((Sum({$<ТипДокумента={2},ТипПериода={'Current'}>}Скидка)/1000),'# ##0,00');
SET СуммаСкидкиТыс.Заголовок = Сумма скидки, тыс.руб.;
SET СуммаСкидкиТыс.Описание = Сумма предоставленной скидки в тыс. руб.;
SET СуммаСкидкиТысПредГод = Num((Sum({$<ТипДокумента={2},_ФлагДействующаяДата={1},ТипПериода={'Год'}>}Скидка)/1000),'# ##0,00');
SET СуммаСкидкиТысПредГод.Заголовок = Сумма скидки пред. (1) Год, тыс.руб.;
SET СуммаСкидкиТысПредГод.Описание = Сумма предоставленной скидки за пред год в тыс. руб.;
let ПроцентСуммаСкидкиТысПредГод = replace(replace('Num(@(СуммаСкидкиТыс)/@(СуммаСкидкиТысПредГод),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентСуммаСкидкиТысПредГод.Заголовок = % изм.суммы Скидки к пред. (1) Год;
SET ПроцентСуммаСкидкиТысПредГод.Описание = Процент Суммы скидки к предыдущему году;
let СуммаРостаСуммаСкидкиТысПредГод = replace(replace('Num(@(СуммаСкидкиТыс)-@(СуммаСкидкиТысПредГод),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаСуммаСкидкиТысПредГод.Заголовок = ∆ изм. %Скидок к пред. (1) Год;
SET СуммаРостаСуммаСкидкиТысПредГод.Описание = Изменение Суммы скидки к предыдущему году;
SET СуммаСкидкиТысПредГод2 = Num((Sum({$<ТипДокумента={2},_ФлагДействующаяДата={1},ТипПериода={'Год-2'}>}Скидка)/1000),'# ##0,00');
SET СуммаСкидкиТысПредГод2.Заголовок = Сумма скидки пред. (2) Год, тыс.руб.;
SET СуммаСкидкиТысПредГод2.Описание = Сумма предоставленной скидки за предпред год в тыс. руб.;
let ПроцентСуммаСкидкиТысПредГод2 = replace(replace('Num(@(СуммаСкидкиТыс)/@(СуммаСкидкиТысПредГод2),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентСуммаСкидкиТысПредГод2.Заголовок = % изм.суммы скидки к пред. (2) Год;
SET ПроцентСуммаСкидкиТысПредГод2.Описание = Процент суммы скидки к пердпредыдущему году;
let СуммаРостаСуммаСкидкиТысПредГод2 = replace(replace('Num(@(СуммаСкидкиТыс)-@(СуммаСкидкиТысПредГод2),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаСуммаСкидкиТысПредГод2.Заголовок = ∆ изм. %Скидок к пред. (2) Год;
SET СуммаРостаСуммаСкидкиТысПредГод2.Описание = Изменение суммы скидки к предпредыдущему году;
SET СуммаСкидкиТысПредГодДеньНедели = Num((Sum({$<ТипДокумента={2},_ФлагДействующаяДата={1},ТипПериода={'ГодДеньНедели'}>}Скидка)/1000),'# ##0,00');
SET СуммаСкидкиТысПредГодДеньНедели.Заголовок = Сумма скидки пред. (1) Год тот же день недели, тыс.руб.;
SET СуммаСкидкиТысПредГодДеньНедели.Описание = Сумма предоставленной скидки за пред год тот же день недели в тыс. руб.;
let ПроцентСуммаСкидкиТысПредГодДеньНедели = replace(replace('Num(@(СуммаСкидкиТыс)/@(СуммаСкидкиТысПредГодДеньНедели),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентСуммаСкидкиТысПредГодДеньНедели.Заголовок = % изм.суммы Скидки к пред. (1) Год тот же день недели;
SET ПроцентСуммаСкидкиТысПредГодДеньНедели.Описание = Процент Суммы скидки к предыдущему году тот же день недели;
let СуммаРостаСуммаСкидкиТысПредГодДеньНедели = replace(replace('Num(@(СуммаСкидкиТыс)-@(СуммаСкидкиТысПредГодДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаСуммаСкидкиТысПредГодДеньНедели.Заголовок = ∆ изм. %Скидок к пред. (1) Год тот же день недели;
SET СуммаРостаСуммаСкидкиТысПредГодДеньНедели.Описание = Изменение Суммы скидки к предыдущему году тот же день недели;
SET СуммаСкидкиТысПредГод2ДеньНедели = Num((Sum({$<ТипДокумента={2},_ФлагДействующаяДата={1},ТипПериода={'Год2ДеньНедели'}>}Скидка)/1000),'# ##0,00');
SET СуммаСкидкиТысПредГод2ДеньНедели.Заголовок = Сумма скидки пред. (2) Год тот же день недели, тыс.руб.;
SET СуммаСкидкиТысПредГод2ДеньНедели.Описание = Сумма предоставленной скидки за предпредыдущий год тот же день недели в тыс. руб.;
let ПроцентСуммаСкидкиТысПредГод2ДеньНедели = replace(replace('Num(@(СуммаСкидкиТыс)/@(СуммаСкидкиТысПредГод2ДеньНедели),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентСуммаСкидкиТысПредГод2ДеньНедели.Заголовок = % изм.суммы скидки к пред. (2) Год тот же день недели;
SET ПроцентСуммаСкидкиТысПредГод2ДеньНедели.Описание = Процент суммы скидки к пердпредыдущему году тот же день недели;
let СуммаРостаСуммаСкидкиТысПредГод2ДеньНедели = replace(replace('Num(@(СуммаСкидкиТыс)-@(СуммаСкидкиТысПредГод2ДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаСуммаСкидкиТысПредГод2ДеньНедели.Заголовок = ∆ изм. %Скидок к пред. (2) Год тот же день недели;
SET СуммаРостаСуммаСкидкиТысПредГод2ДеньНедели.Описание = Изменение суммы скидки к предпредыдущему году тот же день недели;
SET СуммаСкидкиТысПредМес = Num((Sum({$<ТипДокумента={2},_ФлагДействующаяДата={1},ТипПериода={'ГодМесяц'}>}Скидка)/1000),'# ##0,00');
SET СуммаСкидкиТысПредМес.Заголовок = Сумма скидки пред мес, тыс.руб.;
SET СуммаСкидкиТысПредМес.Описание = Сумма предоставленной скидки за предыдущий месяц в тыс. руб.;
let ПроцентСуммаСкидкиТысПредМес = replace(replace('Num(@(СуммаСкидкиТыс)/@(СуммаСкидкиТысПредМес),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентСуммаСкидкиТысПредМес.Заголовок = % Суммы скидки к пред мес;
SET ПроцентСуммаСкидкиТысПредМес.Описание = Процент Суммы скидки к предыдущему месяцу;
let СуммаРостаСуммаСкидкиТысПредМес = replace(replace('Num(@(СуммаСкидкиТыс)-@(СуммаСкидкиТысПредМес),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаСуммаСкидкиТысПредМес.Заголовок = Изменение суммы скидки к пред мес;
SET СуммаРостаСуммаСкидкиТысПредМес.Описание = Изменение Суммы скидки к предыдущему месяцу;
let ПроцентСкидки = replace(replace('Num(alt(@(СуммаСкидки)/(@(СуммаПродажи)+@(СуммаСкидки)),0),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентСкидки.Заголовок = Процент скидки;
SET ПроцентСкидки.Описание = Процент предоставленной скидки;
let ПроцентСкидкиПредГод = replace(replace('Num(alt(@(СуммаСкидкиТысПредГод)/(@(ПродажиПредГод)+@(СуммаСкидкиТысПредГод)),0),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентСкидкиПредГод.Заголовок = % Скидки пред. (1) Год;
SET ПроцентСкидкиПредГод.Описание = Процент предоставленной скидки за пред год;
let ПроцентПроцентСкидкиПредГод = replace(replace('Num(@(ПроцентСкидки)/@(ПроцентСкидкиПредГод),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПроцентСкидкиПредГод.Заголовок = % изм. %Скидки к пред. (1) Год;
SET ПроцентПроцентСкидкиПредГод.Описание = Процент от Процента скидки к предыдущему году;
let СуммаРостаСПроцентСкидкиПредГод = replace(replace('Num(@(ПроцентСкидки)-@(ПроцентСкидкиПредГод),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаСПроцентСкидкиПредГод.Заголовок = ∆ изм. %Скидок к пред. (1) Год;
SET СуммаРостаСПроцентСкидкиПредГод.Описание = Изменение от Процента скидки к предыдущему году;
let ПроцентСкидкиПредГод2 = replace(replace('Num(alt(@(СуммаСкидкиТысПредГод2)/(@(ПродажиПредГод2)+@(СуммаСкидкиТысПредГод2)),0),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентСкидкиПредГод2.Заголовок = % Скидки пред. (2) Год;
SET ПроцентСкидкиПредГод2.Описание = Процент предоставленной скидки за предпред год;
let ПроцентПроцентСкидкиПредГод2 = replace(replace('Num(@(ПроцентСкидки)/@(ПроцентСкидкиПредГод2),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПроцентСкидкиПредГод2.Заголовок = % изм. %Скидки к пред. (2) Год;
SET ПроцентПроцентСкидкиПредГод2.Описание = Процент от Процента скидки к предпредыдущему году;
let СуммаРостаСПроцентСкидкиПредГод2 = replace(replace('Num(@(ПроцентСкидки)-@(ПроцентСкидкиПредГод2),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаСПроцентСкидкиПредГод2.Заголовок = ∆ изм. %Скидок к пред. (2) Год;
SET СуммаРостаСПроцентСкидкиПредГод2.Описание = Изменение от Процента скидки к предпредыдущему году;
let ПроцентСкидкиПредМес = replace(replace('Num(alt(@(СуммаСкидкиТысПредМес)/(@(ПродажиПредМес)+@(СуммаСкидкиТысПредМес)),0),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентСкидкиПредМес.Заголовок = Процент скидки пред мес;
SET ПроцентСкидкиПредМес.Описание = Процент предоставленной скидки  предыдущего месяца;
let ПроцентПроцентСкидкиПредМес = replace(replace('Num(@(ПроцентСкидки)/@(ПроцентСкидкиПредМес),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентПроцентСкидкиПредМес.Заголовок = % Процента скидки к пред мес;
SET ПроцентПроцентСкидкиПредМес.Описание = Процент от Процента скидки к предыдущему месяцу;
let СуммаРостаСПроцентСкидкиПредМес = replace(replace('Num(@(ПроцентСкидки)-@(ПроцентСкидкиПредМес),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаСПроцентСкидкиПредМес.Заголовок = Изменение процента скидки к пред мес;
SET СуммаРостаСПроцентСкидкиПредМес.Описание = Изменение от Процента скидки к предыдущему месяцу;
SET ПредМесГраницаКрасного = 0.95;
SET ПредМесГраницаЗеленого = 1.05;
SET ПредМесГраницаКрасного2 = 0.90;
SET ПредМесГраницаЗеленого2 = 1.10;
let ГруппаПланГраницаКрасного = replace(replace('@(=if(_ГруппаПоказателей_План=~~~% изм. План-Факт~~~ or _ГруппаПоказателей_План=~~~% изм. к пред (-1) год~~~ or _ГруппаПоказателей_План=~~~% изм. к пред (-2) год~~~ or _ГруппаПоказателей_План=~~~% изм. к пред (-1) месяц~~~ ,0.8,0))','~~~', chr(39)), '@(', chr(36) & '(');
let ГруппаПГГраницаКрасного = replace(replace('@(=if(_ГруппаПоказателей_ПГ=~~~% изм. План-Факт~~~ or _ГруппаПоказателей_ПГ=~~~% изм. к пред (-1) год~~~ or _ГруппаПоказателей_ПГ=~~~% изм. к пред (-2) год~~~ or _ГруппаПоказателей_ПГ=~~~% изм. к пред (-1) месяц~~~,0.8,0))','~~~', chr(39)), '@(', chr(36) & '(');
let ГруппаПланСкидкаГраницаКрасного = replace(replace('@(=if(_ГруппаПоказателей_План=~~~% изм. План-Факт~~~ or _ГруппаПоказателей_План=~~~% изм. к пред (-1) год~~~ or _ГруппаПоказателей_План=~~~% изм. к пред (-2) год~~~ or _ГруппаПоказателей_План=~~~% изм. к пред (-1) месяц~~~,1.2,10000000000))','~~~', chr(39)), '@(', chr(36) & '(');
let ГруппаПГСкидкаГраницаКрасного = replace(replace('@(=if(_ГруппаПоказателей_ПГ=~~~% изм. План-Факт~~~ or _ГруппаПоказателей_ПГ=~~~% изм. к пред (-1) год~~~ or _ГруппаПоказателей_ПГ=~~~% изм. к пред (-2) год~~~ or _ГруппаПоказателей_ПГ=~~~% изм. к пред (-1) месяц~~~,1.2,10000000000))','~~~', chr(39)), '@(', chr(36) & '(');
let ГруппаПланОстаткиГраницаКрасного = replace(replace('@(=if(_ГруппаПоказателей_План=~~~% изм. План-Факт~~~ or _ГруппаПоказателей_План=~~~% изм. к пред (-1) год~~~ or _ГруппаПоказателей_План=~~~% изм. к пред (-2) год~~~ or _ГруппаПоказателей_План=~~~% изм. к пред (-1) месяц~~~,1.2,10000000000))','~~~', chr(39)), '@(', chr(36) & '(');
let ГруппаПГОстаткиГраницаКрасного = replace(replace('@(=if(_ГруппаПоказателей_ПГ=~~~% изм. План-Факт~~~ or _ГруппаПоказателей_ПГ=~~~% изм. к пред (-1) год~~~ or _ГруппаПоказателей_ПГ=~~~% изм. к пред (-2) год~~~ or _ГруппаПоказателей_ПГ=~~~% изм. к пред (-1) месяц~~~,1.2,10000000000))','~~~', chr(39)), '@(', chr(36) & '(');
SET ПредГодГраницаКрасного = 0.90;
SET ПредГодГраницаЗеленого = 1.10;
SET ПредГодГраницаКрасного2 = 0.80;
SET ПредГодГраницаЗеленого2 = 1.20;
SET ВыбранныеПоляКалендаря = =if(GetSelectedCount(Дата)>0, ',Дата={"' & GetFieldSelections(Дата,'","',1000) &'"}', '') & if(GetSelectedCount(Год)>0, ',Год={"' & GetFieldSelections(Год,'","',1000) &'"}', '') & if(GetSelectedCount(Месяц)>0, ',Месяц={"' & GetFieldSelections(Месяц,'","',1000) &'"}', '');
SET ГрупповоеВыражение_ФорматТыс = If(IsNull(Only({$1 <ГП_$1={$2}>}  _ГП_$1_ФорматТыс)),'млн','тыс');
SET ГрупповоеВыражение_ФорматМлн = If(IsNull(Only({$1 <ГП_$1={$2}>}  _ГП_$1_ФорматМлн)),'мрд','млн');
SET ГрупповоеВыражение_ОтносительныйПоказатель = (Only({$1 <ГП_$1={$2}>}  _ГП_$1_ФлагОтносительныйПоказатель) = 1);
SET ГрупповоеВыражение_ФорматМрд = If(IsNull(Only({$1 <ГП_$1={$2}>}  _ГП_$1_ФорматМлрд)),'трн','мрд');
SET ПоказатьОстаткиПоМесяцам = (only(_Группа$1)='Дата'  or only(_Группа$1)='Неделя' or only(_Группа$1)='Посл 8 Дней') and (only(_ГруппаПоказателей_$2)='Остатки' or only(_ГруппаПоказателей_$2)='Оборачиваемость');
SET СтрелкаТренда = if ($1 = 0 OR IsNull($1), null(), 'qmem://<builtin>/' & if($1 >= 1.20,'Arrow_N_G.png', if($1 >= 1.051,'Arrow_NE_G.png', if($1 >= 1.05 ,'Arrow_NE_G.png', if($1 >= 1,'Arrow_E_Y.png', if($1 >= .95 ,'Arrow_W_Y.png', if($1 >= .801  ,'Arrow_SE_R.png', if($1 >= .80 ,'Arrow_S_R.png', if($1 >= 0 ,'Arrow_S_R.png','Arrow_S_R.png') ))))))));
SET СтрелкаТренда.Заголовок = СтрелкаТренда;
let ТрендПродажиПредГод = replace(replace('if (@(ПроцентПродажиПредГод) = 0 OR IsNull(@(ПроцентПродажиПредГод)), null(), ~~~qmem://<builtin>/~~~ & if(@(ПроцентПродажиПредГод) >= 1.20,~~~Arrow_N_G.png~~~, if(@(ПроцентПродажиПредГод) >= 1.051,~~~Arrow_NE_G.png~~~, if(@(ПроцентПродажиПредГод) >= 1.05 ,~~~Arrow_NE_G.png~~~, if(@(ПроцентПродажиПредГод) >= 1,~~~Arrow_E_Y.png~~~, if(@(ПроцентПродажиПредГод) >= .95 ,~~~Arrow_W_Y.png~~~, if(@(ПроцентПродажиПредГод) >= .801  ,~~~Arrow_SE_R.png~~~, if(@(ПроцентПродажиПредГод) >= .80 ,~~~Arrow_S_R.png~~~, if(@(ПроцентПродажиПредГод) >= 0 ,~~~Arrow_S_R.png~~~,~~~Arrow_S_R.png~~~) ))))))))','~~~', chr(39)), '@(', chr(36) & '(');
SET ТрендПродажиПредГод.Описание = Тренд продаж к предыдущему году;
let ТрендВППредГод = replace(replace('if (@(ПроцентВППредГод) = 0 OR IsNull(@(ПроцентВППредГод)), null(), ~~~qmem://<builtin>/~~~ & if(@(ПроцентВППредГод) >= 1.20,~~~Arrow_N_G.png~~~, if(@(ПроцентВППредГод) >= 1.051,~~~Arrow_NE_G.png~~~, if(@(ПроцентВППредГод) >= 1.05 ,~~~Arrow_NE_G.png~~~, if(@(ПроцентВППредГод) >= 1,~~~Arrow_E_Y.png~~~, if(@(ПроцентВППредГод) >= .95 ,~~~Arrow_W_Y.png~~~, if(@(ПроцентВППредГод) >= .801  ,~~~Arrow_SE_R.png~~~, if(@(ПроцентВППредГод) >= .80 ,~~~Arrow_S_R.png~~~, if(@(ПроцентВППредГод) >= 0 ,~~~Arrow_S_R.png~~~,~~~Arrow_S_R.png~~~) ))))))))','~~~', chr(39)), '@(', chr(36) & '(');
SET ТрендВППредГод.Описание = Тренд ВП к предыдущему году;
let ТрендРентВППредГод = replace(replace('if (@(ПроцентРентВППредГод) = 0 OR IsNull(@(ПроцентРентВППредГод)), null(), ~~~qmem://<builtin>/~~~ & if(@(ПроцентРентВППредГод) >= 1.20,~~~Arrow_N_G.png~~~, if(@(ПроцентРентВППредГод) >= 1.051,~~~Arrow_NE_G.png~~~, if(@(ПроцентРентВППредГод) >= 1.05 ,~~~Arrow_NE_G.png~~~, if(@(ПроцентРентВППредГод) >= 1,~~~Arrow_E_Y.png~~~, if(@(ПроцентРентВППредГод) >= .95 ,~~~Arrow_W_Y.png~~~, if(@(ПроцентРентВППредГод) >= .801  ,~~~Arrow_SE_R.png~~~, if(@(ПроцентРентВППредГод) >= .80 ,~~~Arrow_S_R.png~~~, if(@(ПроцентРентВППредГод) >= 0 ,~~~Arrow_S_R.png~~~,~~~Arrow_S_R.png~~~) ))))))))','~~~', chr(39)), '@(', chr(36) & '(');
SET ТрендРентВППредГод.Описание = Тренд рентабельности ВП к предыдущему году;
let ТрендОборачиваемостьПредГод = replace(replace('if (@(ПроцентОборачиваемостьПредГод) = 0 OR IsNull(@(ПроцентОборачиваемостьПредГод)), null(), ~~~qmem://<builtin>/~~~ & if(@(ПроцентОборачиваемостьПредГод) >= 1.20,~~~Arrow_N_G.png~~~, if(@(ПроцентОборачиваемостьПредГод) >= 1.051,~~~Arrow_NE_G.png~~~, if(@(ПроцентОборачиваемостьПредГод) >= 1.05 ,~~~Arrow_NE_G.png~~~, if(@(ПроцентОборачиваемостьПредГод) >= 1,~~~Arrow_E_Y.png~~~, if(@(ПроцентОборачиваемостьПредГод) >= .95 ,~~~Arrow_W_Y.png~~~, if(@(ПроцентОборачиваемостьПредГод) >= .801  ,~~~Arrow_SE_R.png~~~, if(@(ПроцентОборачиваемостьПредГод) >= .80 ,~~~Arrow_S_R.png~~~, if(@(ПроцентОборачиваемостьПредГод) >= 0 ,~~~Arrow_S_R.png~~~,~~~Arrow_S_R.png~~~) ))))))))','~~~', chr(39)), '@(', chr(36) & '(');
SET ТрендОборачиваемостьПредГод.Описание = Тренд оборачиваемости к предыдущему году;
let ТрендОстаткиПредГод = replace(replace('if (@(ПроцентОстаткиПредГод) = 0 OR IsNull(@(ПроцентОстаткиПредГод)), null(), ~~~qmem://<builtin>/~~~ & if(@(ПроцентОстаткиПредГод) >= 1.20,~~~Arrow_N_G.png~~~, if(@(ПроцентОстаткиПредГод) >= 1.051,~~~Arrow_NE_G.png~~~, if(@(ПроцентОстаткиПредГод) >= 1.05 ,~~~Arrow_NE_G.png~~~, if(@(ПроцентОстаткиПредГод) >= 1,~~~Arrow_E_Y.png~~~, if(@(ПроцентОстаткиПредГод) >= .95 ,~~~Arrow_W_Y.png~~~, if(@(ПроцентОстаткиПредГод) >= .801  ,~~~Arrow_SE_R.png~~~, if(@(ПроцентОстаткиПредГод) >= .80 ,~~~Arrow_S_R.png~~~, if(@(ПроцентОстаткиПредГод) >= 0 ,~~~Arrow_S_R.png~~~,~~~Arrow_S_R.png~~~) ))))))))','~~~', chr(39)), '@(', chr(36) & '(');
SET ТрендОстаткиПредГод.Описание = Тренд остатков к предыдущему году;
let ТрендСуммаСкидкиПредГод = replace(replace('if (@(ПроцентСуммаСкидкиТысПредГод) = 0 OR IsNull(@(ПроцентСуммаСкидкиТысПредГод)), null(), ~~~qmem://<builtin>/~~~ & if(@(ПроцентСуммаСкидкиТысПредГод) >= 1.20,~~~Arrow_N_G.png~~~, if(@(ПроцентСуммаСкидкиТысПредГод) >= 1.051,~~~Arrow_NE_G.png~~~, if(@(ПроцентСуммаСкидкиТысПредГод) >= 1.05 ,~~~Arrow_NE_G.png~~~, if(@(ПроцентСуммаСкидкиТысПредГод) >= 1,~~~Arrow_E_Y.png~~~, if(@(ПроцентСуммаСкидкиТысПредГод) >= .95 ,~~~Arrow_W_Y.png~~~, if(@(ПроцентСуммаСкидкиТысПредГод) >= .801  ,~~~Arrow_SE_R.png~~~, if(@(ПроцентСуммаСкидкиТысПредГод) >= .80 ,~~~Arrow_S_R.png~~~, if(@(ПроцентСуммаСкидкиТысПредГод) >= 0 ,~~~Arrow_S_R.png~~~,~~~Arrow_S_R.png~~~) ))))))))','~~~', chr(39)), '@(', chr(36) & '(');
SET ТрендСуммаСкидкиПредГод.Описание = Тренд суммы скидки к предыдущему году;
let ТрендПроцентСкидкиПредГод = replace(replace('if (@(ПроцентПроцентСкидкиПредГод) = 0 OR IsNull(@(ПроцентПроцентСкидкиПредГод)), null(), ~~~qmem://<builtin>/~~~ & if(@(ПроцентПроцентСкидкиПредГод) >= 1.20,~~~Arrow_N_G.png~~~, if(@(ПроцентПроцентСкидкиПредГод) >= 1.051,~~~Arrow_NE_G.png~~~, if(@(ПроцентПроцентСкидкиПредГод) >= 1.05 ,~~~Arrow_NE_G.png~~~, if(@(ПроцентПроцентСкидкиПредГод) >= 1,~~~Arrow_E_Y.png~~~, if(@(ПроцентПроцентСкидкиПредГод) >= .95 ,~~~Arrow_W_Y.png~~~, if(@(ПроцентПроцентСкидкиПредГод) >= .801  ,~~~Arrow_SE_R.png~~~, if(@(ПроцентПроцентСкидкиПредГод) >= .80 ,~~~Arrow_S_R.png~~~, if(@(ПроцентПроцентСкидкиПредГод) >= 0 ,~~~Arrow_S_R.png~~~,~~~Arrow_S_R.png~~~) ))))))))','~~~', chr(39)), '@(', chr(36) & '(');
SET ТрендПроцентСкидкиПредГод.Описание = Тренд процента скидок к предыдущему году;
let КоличествоДней = replace(replace('=COUNT(DISTINCT {1<_ФлагДействующаяДата={1} @(ВыбранныеПоляКалендаря)>} Дата)','~~~', chr(39)), '@(', chr(36) & '(');
SET КоличествоДней.Заголовок = КоличествоДней;
let КоличествоДнейВключаяБудущийПериод = replace(replace('=COUNT(DISTINCT {1<_ФлагДействующаяДата= @(ВыбранныеПоляКалендаря)>} Дата)','~~~', chr(39)), '@(', chr(36) & '(');
let ГруппаВыражение = replace(replace('@(@(=Only({$1 <ГП_$1={$2}>}  _ГП_$1)))','~~~', chr(39)), '@(', chr(36) & '(');
let ГруппаЗаголовок = replace(replace('@(=Only({$1 <ГП_$1={$2}>}  _ГП_$1) & ~~~.Заголовок~~~)','~~~', chr(39)), '@(', chr(36) & '(');
let ГруппаОписание = replace(replace('@(=Only({$1 <ГП_$1={$2}>}  _ГП_$1) & ~~~.Описание~~~)','~~~', chr(39)), '@(', chr(36) & '(');
let ГруппаВыражениеПредГодОтладка = replace(replace('Only({$1 <ГП_$1={@(=chr(39) & Only({<ГП_ТипПоказателя={ПредГод}>} _ГП_ТипПоказателя) & chr(39))}>}  _ГП_$1)','~~~', chr(39)), '@(', chr(36) & '(');
SET ГруппаВыражениеОтладка = Only({$1 <ГП_$1={$2}>}  _ГП_$1);
let Измерение = replace(replace('@(=Only({$1} _$1_Измерение))','~~~', chr(39)), '@(', chr(36) & '(');
let Календарь = replace(replace('@(=If(Only({$2} _ГП_$2_ФлагОстатки)= 1 AND (only({$1} _$1)=~~~Дата~~~  or only({$1} _$1)=~~~Неделя~~~ or only({$1} _$1)=~~~Посл 8 Дней~~~),~~~ГодМесяц~~~,Only({$1} _$1_Измерение)))','~~~', chr(39)), '@(', chr(36) & '(');
let ВыбранКлассификатор = replace(replace('~~~@(Измерение($1))~~~=~~~[Классификатор товаров]~~~','~~~', chr(39)), '@(', chr(36) & '(');
SET ВыбранКлассификатор.Описание = Пример:    ВыбранКлассификатор(ГруппаКлассификатор) или ВыбранКлассификатор(ГруппаИзмерений);
let ВыбранКомпания = replace(replace('~~~@(Измерение($1))~~~=~~~[Компания в целом]~~~','~~~', chr(39)), '@(', chr(36) & '(');
SET ВыбранКомпания.Описание = Пример:    ВыбранКомпания(ГруппаСклад) или ВыбранКомпания(ГруппаИзмерений);
let ВыбраноМеню = replace(replace('~~~@(=Only({ГруппаМеню} _ГруппаМеню_Измерение))~~~=~~~$1~~~','~~~', chr(39)), '@(', chr(36) & '(');
SET ВыбраноМеню.Описание = Пример:    ВыбраноМеню(DynLFL) или ВыбраноМеню(Abc);
let Выбран1ЗначениеИзмерения = replace(replace('Count(DISTINCT @(Измерение($1))) = 1','~~~', chr(39)), '@(', chr(36) & '(');
SET Выбран1ЗначениеИзмерения.Описание = Пример:    Выбран1ЗначениеИзмерения(ГруппаСклад) или Выбран1ЗначениеИзмерения(ГруппаИзмерений);
let ПоказателиНесовместимы = replace(replace('If(Count({<_ГП_Ошибки_$1={$2}>} _ГП_Ошибки_$1_ГруппаИзмерений)=0,0, If(MinString({<_ГП_Ошибки_$1={$2}>} _ГП_Ошибки_$1_ГруппаИзмерений)=~~~*~~~ AND GetSelectedCount(ВидДеятельности)>0, -1, Count({<_ГП_Ошибки_$1={$2},_ГП_Ошибки_$1_ГруппаИзмерений={~~~@(=Only(_ГруппаИзмерений))~~~}>} _ГП_Ошибки_$1_ГруппаИзмерений)=1))','~~~', chr(39)), '@(', chr(36) & '(');
SET ПоказателиНесовместимы.Заголовок = ПоказателиНесовместимы;
let СкроллПоказатель = replace(replace('aggr(Rank(@(ГруппаВыражение(ПоказательАбс,~~~Факт~~~)),4),@(=Only(_ГруппаИзмерений_Измерение)))','~~~', chr(39)), '@(', chr(36) & '(');
SET СкроллПоказатель.Заголовок = СкроллПоказатель;
SET СкроллВид = (if(СкроллМакс-СкроллИзмерении<0,1,СкроллИзмерении-СкроллИзмерений2));
let СкроллМакс = replace(replace('(Count(DISTINCT @(=Only(_ГруппаИзмерений_Измерение))))','~~~', chr(39)), '@(', chr(36) & '(');
SET ГруппаВыбранаПоказатель = IsNull(Only(_ГруппаПоказателей_$1)) = 0;
let ПоказательСУчетомНедель = replace(replace('@(=if(Only({$2} _ГП_$2_ФлагОстатки)<> 1 and (Only({ГруппаКалендарь2} _ГруппаКалендарь2)=~~~Дата~~~ or Only({ГруппаКалендарь2} _ГруппаКалендарь2)=~~~Неделя~~~or Only({ГруппаКалендарь2} _ГруппаКалендарь2)=~~~Посл 8 Дней~~~), @(ГруппаВыражениеОтладка(ПоказательАбс,~~~$1ДеньНедели~~~)), @(ГруппаВыражениеОтладка(ПоказательАбс,~~~$1~~~))))','~~~', chr(39)), '@(', chr(36) & '(');
SET КрасныйШрифт = Num(Only({<ГП_$1={$2}>}  _ГП_$1_КраснаяГраница));
SET _1.ПустоеВыражение = 'Формула не найдена';
SET __.Empty = '_1.ПустоеВыражение';
let ВыражениеДляКарточки = replace(replace('@(@(=Only({<ГП_$1={$3},_ГруппаПоказателей_$1={$2}>}  _ГП_$1)))','~~~', chr(39)), '@(', chr(36) & '(');
SET ВыражениеДляКарточки.Описание = Пример использования: ВыражениеДляКарточки(ПоказательАбс,'Наценка','ПредМес');
SET ВыражениеДляКарточкиОтладка = Only({<ГП_$1={$3},_ГруппаПоказателей_$1={$2}>}  _ГП_$1);
SET Меню_tab = 0;
SET Субменю_tab = 0;
SET СкрытьЛисты = 0;
SET Проверка_Календаря =  if( GetSelectedCount(Дата)>0,1, if (GetSelectedCount(Год)>0 and  (GetSelectedCount(Полугодие)>0 or GetSelectedCount(Квартал)>0 or GetSelectedCount(Месяц)>0 or GetSelectedCount(ГодПолугодие)>0 or GetSelectedCount(ГодКвартал)>0 or GetSelectedCount(ГодМесяц)>0 or GetSelectedCount(ГодНеделя)>0 or GetSelectedCount(День)>0 or GetSelectedCount(ДеньНедели)>0 or GetSelectedCount(ДеньИНомерНедели)>0 ) ,1,0));
SET Проверка_Календаря.Заголовок = Проверка_Календаря;
SET Проверка_Календаря.Описание = Проверка_Календаря;
let ГруппаВыбрана = replace(replace('IsNull(Only({$1} _ГруппаПоказателей_$1)) = 0 AND Left(Only({$1} _ГруппаПоказателей_$1),1) <> ~~~ ~~~ AND If(@(ВыбранПлановыйПоказатель($1)),@(ФлагПланУстановлен(ГруппаСклад)),-1)','~~~', chr(39)), '@(', chr(36) & '(');
let ГруппаВыбрана.Описание = replace(replace('Формула для использовании в Show Condition. Примеры использования: @(ГруппаВыбрана(План)) @(ГруппаВыбрана(ПГ))','~~~', chr(39)), '@(', chr(36) & '(');
let ГруппаВыбранаБезПлановыхПоказателей = replace(replace('IsNull(Only({$1} _ГруппаПоказателей_$1)) = 0 AND Left(Only({$1} _ГруппаПоказателей_$1),1) <> ~~~ ~~~ AND If(@(ВыбранПлановыйПоказатель($1)),0,@(ФлагПланУстановлен(ГруппаСклад)))','~~~', chr(39)), '@(', chr(36) & '(');
let ГруппаВыбранаБезПлановыхПоказателей.Описание = replace(replace('Формула для использовании в Show Condition. Примеры использования: @(ГруппаВыбрана(План)) @(ГруппаВыбрана(ПГ))','~~~', chr(39)), '@(', chr(36) & '(');
SET ПоказательВыбран = Left(Only({$1} _ГруппаПоказателей_$1),1) <> ' ';
let ПоказательВыбран.Описание = replace(replace('Формула для использовании в Show Condition. Примеры использования: @(ПоказательВыбран(План)) @(ПоказательВыбран(ПГ))','~~~', chr(39)), '@(', chr(36) & '(');
let ГруппаИзмерений_План = replace(replace('@(=if(@(УстановленФильтрПоИзмерениюБезПлана),0,If(Only({ГруппаИзмерений} _ГруппаИзмерений_Измерение)=~~~[Классификатор товаров]~~~, Only({ГруппаИзмерений <_ГруппаИзмерений={~~~@(=GetCurrentField([Классификатор товаров]))~~~}>} _ГруппаИзмерений_План), Only({ГруппаИзмерений} _ГруппаИзмерений_План))))','~~~', chr(39)), '@(', chr(36) & '(');
SET ГруппаИзмерений_План.Описание = Условие отображения плановых показателей;
let ФлагПланУстановлен = replace(replace('@(=if(@(УстановленФильтрПоИзмерениюБезПлана),0,If(Only({$1} _$1_Измерение)=~~~[Классификатор товаров]~~~, Only({$1 <_$1={~~~@(=GetCurrentField([Классификатор товаров]))~~~}>} _$1_План), Only({$1} _$1_План))))','~~~', chr(39)), '@(', chr(36) & '(');
SET ФлагПланУстановлен.Описание = Условие отображения плановых показателей;
let ВыбранПлановыйПоказатель = replace(replace('@(=Only({$1} _ГруппаПоказателей_$1) = ~~~План~~~ or Only({$1} _ГруппаПоказателей_$1) = ~~~% изм. План-Факт~~~ or Only({$1} _ГруппаПоказателей_$1) = ~~~∆ изм. План-Факт~~~ or Only({$1} _ГруппаПоказателей_$1) = ~~~План за  полный месяц~~~)','~~~', chr(39)), '@(', chr(36) & '(');
let УстановленФильтрПоИзмерениюБезПлана = replace(replace('@(=GetSelectedCount(Подкатегория) +GetSelectedCount(НоменклатураНаименование)+GetSelectedCount(Клиент)+GetSelectedCount(Категория) +GetSelectedCount(Подкатегория)+GetSelectedCount(Производитель)+GetSelectedCount(Направление)+GetSelectedCount(КатегорийныйМенеджер))','~~~', chr(39)), '@(', chr(36) & '(');
let ВыбранПоказательСПланом = replace(replace('@(=Only({$1} _ГруппаПоказателей_$1) = ~~~Продажи~~~ OR  Only({$1} _ГруппаПоказателей_$1) = ~~~Наценка~~~ OR  Only({$1} _ГруппаПоказателей_$1) = ~~~% Наценки~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ЗаголовокИзмерения = Only({$1} _$1) & Chr(10) & text('Выбрано: ' & Chr(10) &(GetCurrentSelections(Chr(10) ,'= ',',',30)))& Chr(10);
SET ЗаголовокЛокальныйКод = 'Локальный Код' & Chr(10) & text('Выбрано: ' & Chr(10) &(GetCurrentSelections(Chr(10) ,'= ',',',30)))& Chr(10);
let ИзмерениеНоменклатураНепустаяСтрока = replace(replace('aggr(If(Min(МатричныйТовар) = 1 OR Alt(@(СуммаПродажиТыс),0)<>0 OR Alt(@(ОстатокШтукНаКонецПериода),0)<> 0 ,НоменклатураКод),НоменклатураКод, СкладКод)','~~~', chr(39)), '@(', chr(36) & '(');
let КоличествоСтрокНоменклатураСклад = replace(replace('Sum(aggr(If(Min(МатричныйТовар) = 1 OR Alt(@(СуммаПродажиТыс),0)<>0 OR Alt(@(ОстатокШтукНаКонецПериода),0)<> 0 ,1, 0),НоменклатураКод,Склад))','~~~', chr(39)), '@(', chr(36) & '(');
SET НичегоНеВыбрано = GetSelectedCount(_ГруппаПоказателей_$1, 0, '$1') = 0;
let ЗаголовокИзмеренияСклад = replace(replace('@(НаименованиеИзмерения(ГруппаСклад)) & Chr(10) & text(~~~Выбрано: ~~~ & Chr(10) &(GetCurrentSelections(Chr(10) ,~~~= ~~~,~~~,~~~,30)))& Chr(10)','~~~', chr(39)), '@(', chr(36) & '(');
let НаименованиеИзмерения = replace(replace('@(=Only({$1} _$1))','~~~', chr(39)), '@(', chr(36) & '(');
SET ВыбраноПустоеЗначение = Len(Trim(Only({$1} _$1)))=0;
let ВыбраноЗначение = replace(replace('~~~@(=Only({$1} _$1))~~~=$2','~~~', chr(39)), '@(', chr(36) & '(');
SET ЗаголовокИзмеренияФильтр = Only(_ГруппаФильтр) & Chr(10) & text('Выбрано: ' & Chr(10) &(GetCurrentSelections(Chr(10) ,'= ',',',30)))& Chr(10);
let ГруппаВыражениеПредГод2 = replace(replace('@(@(=Only({<ГП_$1={@(=chr(39) & Only({<ГП_ТипПоказателя={ПредГод2}>} _ГП_ТипПоказателя) & chr(39))}>}  _ГП_$1)))','~~~', chr(39)), '@(', chr(36) & '(');
SET ВыбраноПлановоеИзмерение = WildMatch('Склад,Группа складов,Операционный Директор','*' & Only({$1} _$1) & '*') > 0;
SET НормативOOS = 0.15;
SET ТорговыеДни = Money(Sum({<ТипДокумента={17}, ТипПериода={'Current'}>} Количество),'# ##0');
SET ТорговыеДни.Заголовок = Торговые дни;
SET ТорговыеДни.Описание = Количество дней наличия на складе на начало торгового дня (с учетом продаж);
SET ТорговыеДниРегламентные = Money(Sum({<ТипДокумента={17}, ТипПериода={'Current'}>} Сумма),'# ##0');
SET ТорговыеДниРегламентные.Заголовок = Торговые дни регламентные;
SET ТорговыеДниРегламентные.Описание = Максимально возможное количество дней наличия на складе товара;
SET ДниДефицитаРегламентные = Money(Sum({<ТипДокумента={17}, ТипПериода={'Current'}>} Себестоимость),'# ##0');
SET ДниДефицитаРегламентные.Заголовок = Дни дефицита регламентные;
SET ДниДефицитаРегламентные.Описание = Количество дней отсутствия товара на складах;
let OutOfStock = replace(replace('Money((1-@(ТорговыеДни)/@(ТорговыеДниРегламентные)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET OutOfStock.Заголовок = %OOS;
SET OutOfStock.Описание = Out Of Stock (отношение в днях);
SET ТорговыеДниПредГод = Money(Sum({<ТипДокумента={17}, ТипПериода={'Год'}>} Количество),'# ##0');
SET ТорговыеДниПредГод.Заголовок = Торговые дни пред год;
SET ТорговыеДниПредГод.Описание = Количество дней наличия на складе на начало торгового дня (с учетом продаж) пред год;
SET ТорговыеДниРегламентныеПредГод = Money(Sum({<ТипДокумента={17}, ТипПериода={'Год'}>} Сумма),'# ##0');
SET ТорговыеДниРегламентныеПредГод.Заголовок = Торговые дни регламентные пред год;
SET ТорговыеДниРегламентныеПредГод.Описание = Максимально возможное количество дней наличия на складе матричного товара пред год;
SET ДниДефицитаРегламентныеПредГод = Money(Sum({<ТипДокумента={17}, ТипПериода={'Год'}>} Себестоимость),'# ##0');
SET ДниДефицитаРегламентныеПредГод.Заголовок = Дни дефицита регламентные пред год;
SET ДниДефицитаРегламентныеПредГод.Описание = Количество дней отсутствия товара на складах пред год;
let OutOfStockПредГод = replace(replace('Money((1-@(ТорговыеДниПредГод)/@(ТорговыеДниРегламентныеПредГод)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET OutOfStockПредГод.Заголовок = %OOS пред год;
SET OutOfStockПредГод.Описание = Out Of Stock (отношение в днях) пред год;
let ПроцентOutOfStockПредГод = replace(replace('Money(@(OutOfStock)/@(OutOfStockПредГод),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентOutOfStockПредГод.Заголовок = %OOS к пред году;
SET ПроцентOutOfStockПредГод.Описание = Процент от %OOS к предыдущему году;
SET ТорговыеДниПредМес = Money(Sum({<ТипДокумента={17}, ТипПериода={'ГодМесяц'}>} Количество),'# ##0');
SET ТорговыеДниПредМес.Заголовок = Торговые дни пред месяц;
SET ТорговыеДниПредМес.Описание = Количество дней наличия на складе на начало торгового дня (с учетом продаж) пред месяц;
SET ТорговыеДниРегламентныеПредМес = Money(Sum({<ТипДокумента={17}, ТипПериода={'ГодМесяц'}>} Сумма),'# ##0');
SET ТорговыеДниРегламентныеПредМес.Заголовок = Торговые дни регламентные пред месяц;
SET ТорговыеДниРегламентныеПредМес.Описание = Максимально возможное количество дней наличия на складе матричного товара пред месяц;
SET ДниДефицитаРегламентныеПредМес = Money(Sum({<ТипДокумента={17}, ТипПериода={'ГодМесяц'}>} Себестоимость),'# ##0');
SET ДниДефицитаРегламентныеПредМес.Заголовок = Дни дефицита регламентные пред месяц;
SET ДниДефицитаРегламентныеПредМес.Описание = Количество дней отсутствия товара на складах пред месяц;
let OutOfStockПредМес = replace(replace('Money((1-@(ТорговыеДниПредМес)/@(ТорговыеДниРегламентныеПредМес)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET OutOfStockПредМес.Заголовок = %OOS пред месяц;
SET OutOfStockПредМес.Описание = Out Of Stock (отношение в днях) пред месяц;
let ПроцентOutOfStockПредМес = replace(replace('Money(@(OutOfStock)/@(OutOfStockПредМес),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентOutOfStockПредМес.Заголовок = %OOS к пред месяцу;
SET ПроцентOutOfStockПредМес.Описание = Процент от %OOS к предыдущему месяцу;
let СуммаРостаOutOfStockПредМес = replace(replace('Money(@(OutOfStock)-@(OutOfStockПредМес),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаOutOfStockПредМес.Заголовок = Рост %OOS к пред месяцу;
SET СуммаРостаOutOfStockПредМес.Описание = Рост %OOS к предыдущему месяцу;
SET ТорговыеДниРегламентныеПредГод2 = Money(Sum({<ТипДокумента={17}, ТипПериода={'Год-2'}>} Сумма),'# ##0');
SET ТорговыеДниРегламентныеПредГод2.Заголовок = Торговые дни регламентные предпред год;
SET ТорговыеДниРегламентныеПредГод2.Описание = Максимально возможное количество дней наличия на складе матричного товара предпред год;
SET ДниДефицитаРегламентныеПредГод2 = Money(Sum({<ТипДокумента={17}, ТипПериода={'Год-2'}>} Себестоимость),'# ##0');
SET ДниДефицитаРегламентныеПредГод2.Заголовок = Дни дефицита регламентные предпред год;
SET ДниДефицитаРегламентныеПредГод2.Описание = Количество дней отсутствия товара на складах предпред год;
let OutOfStockПредГод2 = replace(replace('Money((1-@(ТорговыеДниПредГод2)/@(ТорговыеДниРегламентныеПредГод2)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET OutOfStockПредГод2.Заголовок = %OOS предпред год;
SET OutOfStockПредГод2.Описание = Out Of Stock (отношение в днях) предпред год;
let ПроцентOutOfStockПредГод2 = replace(replace('Money(@(OutOfStock)/@(OutOfStockПредГод2),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентOutOfStockПредГод2.Заголовок = %OOS к предпред году;
SET ПроцентOutOfStockПредГод2.Описание = Процент от %OOS к предпредыдущему году;
let Матрица = replace(replace('(Sum({<@(СбросФильтраПоОстаткам),ТипПериода={~~~OnHand_Sum~~~},ТипДокумента={29}>} Сумма) + Sum({<@(СбросФильтраПоОстаткам), ТипПериода={~~~OnHand_Eom~~~},ТипДокумента={17}>} ВП))','~~~', chr(39)), '@(', chr(36) & '(');
SET Матрица.Заголовок = Матрица;
SET Матрица.Описание = Статус матрицы;
SET ПланOutOfStock = 0;
SET ПланOutOfStock.Заголовок = Плановый %OOS;
SET ПланOutOfStock.Описание = Плановый %Out Of Stock;
SET ПланOutOfStockПолный = 0;
SET ПланOutOfStockПолный.Заголовок = Плановый %OOS за полный месяц;
SET ПланOutOfStockПолный.Описание = Плановый %Out Of Stock за полный месяц;
let ПФ_OutOfStock = replace(replace('Num((@(OutOfStock))/(@(ПланOutOfStock)),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПФ_OutOfStock.Заголовок = ПФ %OOS;
SET ПФ_OutOfStock.Описание = Факт к плану %Out Of Stock;
let П_Ф_OutOfStock = replace(replace('Num((@(OutOfStock))-(@(ПланOutOfStock)),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET П_Ф_OutOfStock.Заголовок = ПФ %OOS;
SET П_Ф_OutOfStock.Описание = Факт к плану %Out Of Stock;
SET Тап_на_Вкладке_Остатки =  3;
SET Тап_АнализПродаж =  0;
SET Тап_АнализПродаж.Заголовок = ТТап_АнализПродаж;
SET ЦветПлан = lightRed();
SET ЦветПлан.Заголовок = ЦветПродаж;
SET ЦветПрцПГ = rgb(27,125,156);
SET ЦветПрцПГ.Заголовок = ЦветПродаж;
SET ШрифтЦветПрцПГ = rgb(27,125,156);
SET ШрифтЦветПрцПГ.Заголовок = ЦветПродаж;
SET ЦветОшибки =  rgb(214,231,248);
SET ЦветОшибки.Заголовок = ЦветОшибки;
SET ЦветПродаж =  rgb(98,196,227);
SET ЦветПродаж.Заголовок = ЦветПродаж;
SET ЦветВП =  rgb(173,194,214);
SET ЦветВП.Заголовок = ЦветВП;
SET ЦветОстатки =  rgb(202,225,123);
SET ЦветОстатки.Заголовок = ЦветОстатки;
SET ЦветТрафик =  rgb(202,115,123);
SET ЦветТрафик.Заголовок = ЦветТрафик;
SET ЦветКонверсия =  rgb(202,200,123);
SET ЦветКонверсия.Заголовок = ЦветКонверсия;
SET ЦветКолСделок =  rgb(0,172,172);
SET ЦветКолСделок.Заголовок = ЦветСделок;
SET ЦветСуммаОплаты =  rgb(202,160,123);
SET ЦветСуммаОплаты.Заголовок = ЦветСуммаОплаты;
SET ЦветПенетрация =  rgb(184,113,255);
SET ЦветПенетрация.Заголовок = ЦветПенетрация;
SET ЦветСрЧек =  rgb(252,115,98);
SET ЦветСрЧек.Заголовок = ЦветСрЧек;
SET ЦветСуммаСкидки =  rgb(210,210,0);
SET ЦветСуммаСкидки.Заголовок = ЦветСуммаСкидки;
SET ЦветПроцентСкидки =  rgb(173,255,91);
SET ЦветПроцентСкидки.Заголовок = ЦветПроцентСкидки;
SET ЦветНаценка =  rgb(156,181,205);
SET ЦветНаценка.Заголовок = ЦветНаценка;
SET ЦветОборачиваемость =  rgb(235,205,40);
SET ЦветОборачиваемость.Заголовок = ЦветОборачиваемость;
SET ЦветПрцНаценка =  rgb(20,255,20);
SET ЦветПрцНаценка.Заголовок = ЦветПрцНаценка;
SET ЦветOutOfStock =  rgb(0,139,242);
SET ЦветOutOfStock.Заголовок = ЦветOutOfStock;
SET ЦветПредГод =  rgb(200,200,200);
SET ЦветПредГод.Заголовок = ЦветПредГод;
SET ЦветПредПредГод =  rgb(220,220,200);
SET ЦветПредПредГод.Заголовок = ЦветПредПредГод;
SET ЦветПФ =  red();
SET ЦветПФ.Заголовок = ЦветПФ;
SET ЦветПроцентПредГод = green();
SET ЦветПроцентПредГод.Заголовок = ЦветПроцентПредГод;
SET ЦветАктКнопки =  rgb(102,255,140);
SET ЦветАктКнопки.Заголовок = ЦветАктКнопки;
SET ЦветНеАктКнопки =  rgb(199,226,226);
SET ЦветНеАктКнопки.Заголовок = ЦветНеАктКнопки;
SET СкроллИзмерении = 0;
SET СкроллИзмерений2 = 15;
SET Тап_на_Вкладке_Динамика = 0;
SET Тап_ВидДиаграммы = 0;
SET Показать = 1;
SET Скрыть = 0;
SET ЗаливкаПФ = if ($1 <= 0 OR IsNull($1), rgb(255,255,255), if($1 >= 1.001,rgb(128,255,255), if($1 >= 0.95,rgb(128,255,128), if($1 >= 0.90 ,rgb(225,255,170), if($1 >= 0.8,rgb(255,182,147), if($1 >= 0 ,lightRed(),rgb(255,255,255)) )))));
SET ЗаливкаПФОбратная = if ($1 <= 0 OR IsNull($1), rgb(255,255,255), if($1 <= 0.80,rgb(128,255,255), if($1 <= 0.90,rgb(128,255,128), if($1 <= 0.95 ,rgb(225,255,170), if($1 <= 1.0,rgb(255,182,147), if($1 <= 1000000 ,lightRed(190),rgb(255,255,255)) )))));
let Заливка_ПФ_Продажи = replace(replace('if (@(ПФ_Продажи) <= 0 OR IsNull(@(ПФ_Продажи)), rgb(255,255,255), if(@(ПФ_Продажи) >= 1.001,rgb(128,255,255), if(@(ПФ_Продажи) >= 0.95,rgb(128,255,128), if(@(ПФ_Продажи) >= 0.90 ,rgb(225,255,170), if(@(ПФ_Продажи) >= 0.8,rgb(255,182,147), if(@(ПФ_Продажи) >= 0 ,lightRed(),rgb(255,255,255)) )))))','~~~', chr(39)), '@(', chr(36) & '(');
let Заливка_ПФ_ВП = replace(replace('if (@(ПФ_ВП) <= 0 OR IsNull(@(ПФ_ВП)), rgb(255,255,255), if(@(ПФ_ВП) >= 1.001,rgb(128,255,255), if(@(ПФ_ВП) >= 0.95,rgb(128,255,128), if(@(ПФ_ВП) >= 0.90 ,rgb(225,255,170), if(@(ПФ_ВП) >= 0.8,rgb(255,182,147), if(@(ПФ_ВП) >= 0 ,lightRed(),rgb(255,255,255)) )))))','~~~', chr(39)), '@(', chr(36) & '(');
let Заливка_ПФ_Наценка = replace(replace('if (@(ПФРентВП) <= 0 OR IsNull(@(ПФРентВП)), rgb(255,255,255), if(@(ПФРентВП) >= 1.001,rgb(128,255,255), if(@(ПФРентВП) >= 0.95,rgb(128,255,128), if(@(ПФРентВП) >= 0.90 ,rgb(225,255,170), if(@(ПФРентВП) >= 0.8,rgb(255,182,147), if(@(ПФРентВП) >= 0 ,lightRed(),rgb(255,255,255)) )))))','~~~', chr(39)), '@(', chr(36) & '(');
let Заливка_ПФ_Остатки = replace(replace('if (@(ПФ_Остатки) <= 0 OR IsNull(@(ПФ_Остатки)), rgb(255,255,255), if(@(ПФ_Остатки) <= 0.80,rgb(128,255,255), if(@(ПФ_Остатки) <= 0.90,rgb(128,255,128), if(@(ПФ_Остатки) <= 0.95 ,rgb(225,255,170), if(@(ПФ_Остатки) <= 1.0,rgb(255,182,147), if(@(ПФ_Остатки) <= 1000000 ,lightRed(190),rgb(255,255,255)) )))))','~~~', chr(39)), '@(', chr(36) & '(');
let Заливка_ПФ_Оборачиваемость = replace(replace('if (@(ПФ_Оборачиваемость) <= 0 OR IsNull(@(ПФ_Оборачиваемость)), rgb(255,255,255), if(@(ПФ_Оборачиваемость) <= 0.80,rgb(128,255,255), if(@(ПФ_Оборачиваемость) <= 0.90,rgb(128,255,128), if(@(ПФ_Оборачиваемость) <= 0.95 ,rgb(225,255,170), if(@(ПФ_Оборачиваемость) <= 1.0,rgb(255,182,147), if(@(ПФ_Оборачиваемость) <= 1000000 ,lightRed(190),rgb(255,255,255)) )))))','~~~', chr(39)), '@(', chr(36) & '(');
SET ЦветВычКолонки =  rgb(230,230,230);
SET ЦветВычКолонки.Заголовок = ЦветВычКолонки;
SET ШрифтЦветПФ = Red();
SET ШрифтЦветПФ.Заголовок = ЦветПродаж;
SET ШрифтЦветПлан = rgb(255,255,255);
SET ШрифтЦветПлан.Заголовок = ЦветПродаж;
SET ШрифтЦветПродаж = rgb(255,255,255);
SET ШрифтЦветПродаж.Заголовок = ЦветПродаж;
SET ШрифтЦветВП =  rgb(255,255,255);
SET ШрифтЦветВП.Заголовок = ШрифтЦветВП;
SET ШрифтЦветОстатки =  rgb(80,80,80);
SET ШрифтЦветОстатки.Заголовок = ЦветОстатки;
SET ШрифтЦветТрафик =  rgb(255,255,255);
SET ШрифтЦветТрафик.Заголовок = ЦветТрафик;
SET ШрифтЦветКонверсия =  rgb(80,80,80);
SET ШрифтЦветКонверсия.Заголовок = ЦветКонверсия;
SET ШрифтЦветКолСделок =  rgb(255,255,255);
SET ШрифтЦветКолСделок.Заголовок = ЦветСделок;
SET ШрифтЦветСуммаОплаты =  rgb(255,255,255);
SET ШрифтЦветСуммаОплаты.Заголовок = ЦветСуммаОплаты;
SET ШрифтЦветПенетрация =  rgb(80,80,80);
SET ШрифтЦветПенетрация.Заголовок = ЦветПенетрация;
SET ШрифтЦветСрЧек =  rgb(80,80,80);
SET ШрифтЦветСрЧек.Заголовок = ЦветСрЧек;
SET ШрифтЦветСуммаСкидки =  rgb(80,80,80);
SET ШрифтЦветСуммаСкидки.Заголовок = ЦветСуммаСкидки;
SET ШрифтЦветПроцентСкидки =  rgb(80,80,80);
SET ШрифтЦветПроцентСкидки.Заголовок = ЦветПроцентСкидки;
SET ШрифтЦветНаценка =  rgb(80,80,80);
SET ШрифтЦветНаценка.Заголовок = ЦветНаценка;
SET ШрифтЦветОборачиваемость =  rgb(80,80,80);
SET ШрифтЦветОборачиваемость.Заголовок = ЦветОборачиваемость;
SET ШрифтЦветПрцНаценка =  rgb(80,80,80);
SET ШрифтЦветПрцНаценка.Заголовок = ЦветПрцНаценка;
SET ШрифтЦветOutOfStock =  rgb(255,255,255);
SET ШрифтЦветOutOfStock.Заголовок = ШрифтЦветOutOfStock;
SET ШрифтЦветПредГод =  rgb(80,80,80);
SET ШрифтЦветПредГод.Заголовок = ЦветПредГод;
SET ШрифтЦветПредПредГод =  rgb(80,80,80);
SET ШрифтЦветПредПредГод.Заголовок = ЦветПредПредГод;
SET ТОППодгрупп = 20;
SET ТОППодгрупп.Заголовок = Топ подгрупп;
SET ПродажаПроверкаФакт = Money(Sum({$<ТипДокумента = {7},ТипПериода={'Current'}>}Сумма),'# ##0,00');
SET ПродажаПроверкаФакт.Заголовок = Проверка продажи ИТОГО;
SET ПродажаПроверкаФакт.Описание = Проверка - суммы продажи из Excel;
let ПродажаПроверкаРасхождение = replace(replace('Money(@(СуммаПродажи) - @(ПродажаПроверкаФакт),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПродажаПроверкаРасхождение.Заголовок = Проверка продажи расхождение;
SET ПродажаПроверкаРасхождение.Описание = Расхождение с Excel по сумме продаж;
SET ВППроверкаФакт = Money(Sum({$<ТипДокумента = {7},ТипПериода={'Current'}>}ВП),'# ##0,00');
SET ВППроверкаФакт.Заголовок = Проверка ВП ИТОГО;
SET ВППроверкаФакт.Описание = Проверка - суммы ВП из Excel;
let ВППроверкаРасхождение = replace(replace('Money(@(СуммаВП) - @(ВППроверкаФакт),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ВППроверкаРасхождение.Заголовок = Проверка ВП расхождение;
SET ВППроверкаРасхождение.Описание = Расхождение с Excel по ВП;
SET Динамика = 0;
SET periodSetMode = 0;
LET periodStart = MakeDate(2014);
LET periodEnd = MakeDate(2014);
LET Детально = 0;
let КоличествоСКУОстаток = replace(replace('Count({<ТипДокумента={11}, _МесяцПоПорядку={~~~@(=Max({<_ФлагДействующаяДата={1}>} _МесяцПоПорядку))~~~}, Количество ={~~~>0~~~},ТипПериода={~~~Current~~~}>} DISTINCT НоменклатураКод)','~~~', chr(39)), '@(', chr(36) & '(');
SET КоличествоСКУОстаток.Заголовок = Кол SKU на остатке;
SET КоличествоСКУОстаток.Описание = Количество SKU на остатке;
let КоличествоСКУМатричныхОстаток = replace(replace('Count({<ТипДокумента={11},МатричныйТовар={~~~Матричный~~~}, _МесяцПоПорядку={~~~@(=Max({<_ФлагДействующаяДата={1}>} _МесяцПоПорядку))~~~}, Количество ={~~~>0~~~},ТипПериода={~~~Current~~~}>} DISTINCT НоменклатураКод)','~~~', chr(39)), '@(', chr(36) & '(');
SET КоличествоСКУМатричныхОстаток.Заголовок = Кол матричных SKU на остатке;
SET КоличествоСКУМатричныхОстаток.Описание = Количество матричных SKU на остатке;
SET КоличествоСКУМатричных = Count({<Год,Месяц,Дата,ГодМесяц,Квартал,Полугодие,День,ДеньНедели,ГодМесяц,МатричныйТовар={'Матричный'}>} DISTINCT НоменклатураКод);
SET КоличествоСКУМатричных.Заголовок = Кол матричных SKU план;
SET КоличествоСКУМатричных.Описание = Количество матричных SKU план;
SET МатричностьНаСейчас = Max({<Год,Месяц,Дата,ГодМесяц,Квартал,Полугодие,День,ДеньНедели,ГодМесяц>}МатричныйТовар);
SET МатричностьНаСейчас.Заголовок = Матричность;
SET МатричностьНаСейчас.Описание = Признак матричности на текущий день;
SET ДатаВыводаИзАссортимента = min(ДатаВывода);
SET ДатаВыводаИзАссортимента.Заголовок = Дата вывода из ассортимента;
SET ДатаВыводаИзАссортимента.Описание = Дата вывода из ассортимента;
SET ДатаВводаВАссортимент = min(ДатаВвода);
SET ДатаВводаВАссортимент.Заголовок = Дата ввода в ассортимент;
SET ДатаВводаВАссортимент.Описание = Дата первого ввода в ассортимент;
SET ПослДатаПоследнейПереоценки = min(ДатаПоследнейПереоценки);
SET ПослДатаПоследнейПереоценки.Заголовок = Дата последней переоценки;
SET ПослДатаПоследнейПереоценки.Описание = Дата последней переоценки;
SET ПослЦенаТекущаяРозничная = Money(min(ЦенаТекущаяРозничная),'# ##0,00');
SET ПослЦенаТекущаяРозничная.Заголовок = Действующая розничная цена, руб;
SET ПослЦенаТекущаяРозничная.Описание = Действующая розничная цена продажи, руб;
SET ПослДатаПоследнейЗакупки = Money(min(ДатаПоследнейЗакупки),'# ##0,00');
SET ПослДатаПоследнейЗакупки.Заголовок = Дата последней закупки;
SET ПослДатаПоследнейЗакупки.Описание = Дата последней закупки;
let GMROI = replace(replace('Money((@(СуммаВП)/Sum({<ТипДокумента = {10},ТипПериода={~~~Current~~~}>} Себестоимость))*365,~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET GMROI.Заголовок = GMROI;
SET GMROI.Описание = Факт GMROI % доходности на вложенный капитал в % годовых. (Ввловая прибыль отнесенная к остаткам в закупочных ценах);
let Эффективность = replace(replace('Money(((@(СуммаВП))/(Sum({<ТипДокумента = {10},ТипПериода={~~~Current~~~}>} Себестоимость) / @(КоличествоДней)))*1000,~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET Эффективность.Заголовок = Доход, руб на 1000 руб остатков.;
SET Эффективность.Описание = Эффективность остатков, руб. ( Сколько рублей мы зарабатываем на 1000 рублей остатков);
let СредняяЦенаПродажи = replace(replace('Money(Avg({$<ТипДокумента = {2},_ФлагДействующаяДата={1},ТипПериода={~~~Current~~~} @(=if($0<>2,~~~~~~,~~~,$1={$2}~~~))>}Сумма/Количество),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СредняяЦенаПродажи.Заголовок = Средняя розничная цена за период, руб;
SET СредняяЦенаПродажи.Описание = Средняя розничная цена за выбранный период, руб;
let ПродажиСредняяРазоваяПокупкаРуб = replace(replace('Money(Sum({<ТипДокумента = {2},ТипПериода={~~~Current~~~}>}Сумма)/@(КоличествоЧеков),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПродажиСредняяРазоваяПокупкаРуб.Заголовок = Средняя разовая покупка, руб;
SET ПродажиСредняяРазоваяПокупкаРуб.Описание = Средняя разовая покупка, руб;
let СреднееКоличествоТовараСделки = replace(replace('Money(Sum({<ТипДокумента = {2},ТипПериода={~~~Current~~~}>}Количество)/@(КоличествоЧеков),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СреднееКоличествоТовараСделки.Заголовок = Средняя разовая покупка, шт;
SET СреднееКоличествоТовараСделки.Описание = Средняя разовая покупка, шт;
let ПотенциальнаяНаценка = replace(replace('Money((@(ОстатокВЦенахПродажНаКонецПериодаРуб) - @(ОстатокСебестоимостьНаКонецПериода_Формула)) / @(ОстатокСебестоимостьНаКонецПериода_Формула),~~~# ##0,00%~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПотенциальнаяНаценка.Заголовок = Потенциальная Наценка, в %;
SET ПотенциальнаяНаценка.Описание = Потенциальная Наценка  исходя из  остатков на конец периода с НДС и текущих цен продаж;
let ОстатокВЦенахПродажНаКонецПериодаРуб = replace(replace('Money(Sum(Aggr(@(ОстатокШтукНаКонецПериода_Формула) * Min(ЦенаТекущаяРозничная), НоменклатураСсылка, СкладСсылка)),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОстатокВЦенахПродажНаКонецПериодаРуб.Заголовок = Остатки в дейст. розничных ценах, руб;
SET ОстатокВЦенахПродажНаКонецПериодаРуб.Описание = Складские остатки в действующих розничных ценах продажи на конец периода, в рублях;
let ОстатокВЦенахПоследнейЗакупкиНаКонецПериодаРуб = replace(replace('Money(Sum(Aggr(@(ОстатокШтукНаКонецПериода_Формула) * Min(ЦенаПоследнейЗакупки), НоменклатураСсылка, СкладСсылка)),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ОстатокВЦенахПоследнейЗакупкиНаКонецПериодаРуб.Заголовок = Остатки в посл закуп. Ценах, руб;
SET ОстатокВЦенахПоследнейЗакупкиНаКонецПериодаРуб.Описание = Складские остатки в последних закупочных ценах на конец периода, руб;
SET КоличествоЧеков = Money(Sum({<ТипДокумента = {40},ТипПериода={'Current'}>}Количество),'# ##0,00');
SET КоличествоЧеков.Заголовок = Количество чеков, шт;
SET КоличествоЧеков.Описание = Количество чеков, штук;
SET КоличествоЧековПредГод = Money(Sum({<ТипДокумента = {40},ТипПериода={'Год'}>}Количество),'# ##0,00');
SET КоличествоЧековПредГод.Заголовок = Количество чеков пред. (1) Год, шт;
SET КоличествоЧековПредГод.Описание = Количество чеков за предыдущий год, штук;
let ПроцентКоличествоЧековПредГод = replace(replace('Money(@(КоличествоЧеков)/@(КоличествоЧековПредГод),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентКоличествоЧековПредГод.Заголовок = % количества чеков к пред. (1) Год;
SET ПроцентКоличествоЧековПредГод.Описание = Процент количества чеков к предыдущему году;
let СуммаРостаКоличествоЧековПредГод = replace(replace('Money(@(КоличествоЧеков)-@(КоличествоЧековПредГод),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаКоличествоЧековПредГод.Заголовок = Рост количества чеков к пред. (1) Год, шт;
SET СуммаРостаКоличествоЧековПредГод.Описание = Рост количества чеков к предыдущему году, штук;
SET КоличествоЧековПредМесяц = Money(Sum({<ТипДокумента = {40},ТипПериода={'ГодМесяц'}>}Количество),'# ##0,00');
SET КоличествоЧековПредМесяц.Заголовок = Количество чеков пред месяц, шт;
SET КоличествоЧековПредМесяц.Описание = Количество чеков за предыдущий месяц, штук;
let ПроцентКоличествоЧековПредМесяц = replace(replace('Money(@(КоличествоЧеков)/@(КоличествоЧековПредМесяц),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентКоличествоЧековПредМесяц.Заголовок = % количества чеков к пред месяцу;
SET ПроцентКоличествоЧековПредМесяц.Описание = Процент количества чеков к предыдущему месяцу;
let СуммаРостаКоличествоЧековПредМесяц = replace(replace('Money(@(КоличествоЧеков)-@(КоличествоЧековПредМесяц),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаКоличествоЧековПредМесяц.Заголовок = Рост количества чеков к пред месяцу, шт;
SET СуммаРостаКоличествоЧековПредМесяц.Описание = Рост количества чеков к предыдущему месяцу, штук;
SET КоличествоЧековПредГод2 = Money(Sum({<ТипДокумента = {40},ТипПериода={'Год-2'}>}Количество),'# ##0,00');
SET КоличествоЧековПредГод2.Заголовок = Количество чеков пред. (2) Год, шт;
SET КоличествоЧековПредГод2.Описание = Количество чеков за предпредыдущий год, штук;
let ПроцентКоличествоЧековПредГод2 = replace(replace('Money(@(КоличествоЧеков)/@(КоличествоЧековПредГод2),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентКоличествоЧековПредГод2.Заголовок = % количества чеков к пред. (2) Год;
SET ПроцентКоличествоЧековПредГод2.Описание = Процент количества чеков к предпредыдущий году;
let СуммаРостаКоличествоЧековПредГод2 = replace(replace('Money(@(КоличествоЧеков)-@(КоличествоЧековПредГод2),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаКоличествоЧековПредГод2.Заголовок = Рост количества чеков к пред. (2) Год, шт;
SET СуммаРостаКоличествоЧековПредГод2.Описание = Рост количества чеков к предпредыдущий году, штук;
SET КоличествоЧековПредГодДеньНедели = Money(Sum({<ТипДокумента = {40},ТипПериода={'ГодДеньНедели'}>}Количество),'# ##0,00');
SET КоличествоЧековПредГодДеньНедели.Заголовок = Количество чеков пред. (1) Год тот же день недели, шт;
SET КоличествоЧековПредГодДеньНедели.Описание = Количество чеков за предыдущий год тот же день недели, штук;
let ПроцентКоличествоЧековПредГодДеньНедели = replace(replace('Money(@(КоличествоЧеков)/@(КоличествоЧековПредГодДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентКоличествоЧековПредГодДеньНедели.Заголовок = % количества чеков к пред. (1) Год тот же день недели;
SET ПроцентКоличествоЧековПредГодДеньНедели.Описание = Процент количества чеков к предыдущему году тот же день недели;
let СуммаРостаКоличествоЧековПредГодДеньНедели = replace(replace('Money(@(КоличествоЧеков)-@(КоличествоЧековПредГодДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаКоличествоЧековПредГодДеньНедели.Заголовок = Рост количества чеков к пред. (1) Год тот же день недели, шт;
SET СуммаРостаКоличествоЧековПредГодДеньНедели.Описание = Рост количества чеков к предыдущему году, штук;
SET КоличествоЧековПредГод2ДеньНедели = Money(Sum({<ТипДокумента = {40},ТипПериода={'Год2ДеньНедели'}>}Количество),'# ##0,00');
SET КоличествоЧековПредГод2ДеньНедели.Заголовок = Количество чеков пред. (2) Год тот же день недели, шт;
SET КоличествоЧековПредГод2ДеньНедели.Описание = Количество чеков за предпредыдущий год тот же день недели, штук;
let ПроцентКоличествоЧековПредГод2ДеньНедели = replace(replace('Money(@(КоличествоЧеков)/@(КоличествоЧековПредГод2ДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентКоличествоЧековПредГод2ДеньНедели.Заголовок = % количества чеков к пред. (2) Год тот же день недели;
SET ПроцентКоличествоЧековПредГод2ДеньНедели.Описание = Процент количества чеков к предпредыдущий году тот же день недели;
let СуммаРостаКоличествоЧековПредГод2ДеньНедели = replace(replace('Money(@(КоличествоЧеков)-@(КоличествоЧековПредГод2ДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаКоличествоЧековПредГод2ДеньНедели.Заголовок = Рост количества чеков к пред. (2) Год тот же день недели, шт;
SET СуммаРостаКоличествоЧековПредГод2ДеньНедели.Описание = Рост количества чеков к предпредыдущий году тот же день недели, штук;
let СреднийЧек = replace(replace('Money(@(СуммаПродажи)/@(КоличествоЧеков),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СреднийЧек.Заголовок = Средний чек, руб;
SET СреднийЧек.Описание = Средний чек, руб;
let СреднийЧекПредГод = replace(replace('Money(@(ПродажиПредГодРуб)/@(КоличествоЧековПредГод),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СреднийЧекПредГод.Заголовок = Средний чек пред. (1) Год, руб;
SET СреднийЧекПредГод.Описание = Средний чек за предыдущий год, руб;
let ПроцентСреднийЧекПредГод = replace(replace('Money(@(СреднийЧек)/@(СреднийЧекПредГод),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентСреднийЧекПредГод.Заголовок = % среднего чека к пред. (1) Год;
SET ПроцентСреднийЧекПредГод.Описание = Процент роста среднего чеков к предыдущему году;
let СуммаРостаСреднийЧекПредГод = replace(replace('Money(@(СреднийЧек)-@(СреднийЧекПредГод),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаСреднийЧекПредГод.Заголовок = Рост среднего чека к пред. (1) Год, руб;
SET СуммаРостаСреднийЧекПредГод.Описание = Рост среднего чека к предыдущему году, руб;
let СреднийЧекПредМесяц = replace(replace('Money(@(ПродажиПредМесяцРуб)/@(КоличествоЧековПредМесяц),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СреднийЧекПредМесяц.Заголовок = Средний чек пред месяц, руб;
SET СреднийЧекПредМесяц.Описание = Средний чек за предыдущий месяц, руб;
let ПроцентСреднийЧекПредМесяц = replace(replace('Money(@(СреднийЧек)/@(СреднийЧекПредМесяц)),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентСреднийЧекПредМесяц.Заголовок = % среднего чека к пред месяцу;
SET ПроцентСреднийЧекПредМесяц.Описание = Процент среднего чека к предыдущему месяцу;
let СуммаРостаСреднийЧекПредМесяц = replace(replace('Money(@(СреднийЧек)-@(СреднийЧекПредМесяц)),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаСреднийЧекПредМесяц.Заголовок = Рост среднего чека к пред месяцу, руб;
SET СуммаРостаСреднийЧекПредМесяц.Описание = Рост среднего чека к предыдущему месяцу, руб;
let СреднийЧекПредГод2 = replace(replace('Money(@(ПродажиПредГод2Руб)/@(КоличествоЧековПредГод2),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СреднийЧекПредГод2.Заголовок = Средний чек пред. (2) Год, руб;
SET СреднийЧекПредГод2.Описание = Средний чек за предпредыдущий год, руб;
let ПроцентСреднийЧекПредГод2 = replace(replace('Money(@(СреднийЧек)/@(СреднийЧекПредГод2),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентСреднийЧекПредГод2.Заголовок = % среднего чека к пред. (2) Год;
SET ПроцентСреднийЧекПредГод2.Описание = Процент роста среднего чеков к предпредыдущему году;
let СуммаРостаСреднийЧекПредГод2 = replace(replace('Money(@(СреднийЧек)-@(СреднийЧекПредГод2),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаСреднийЧекПредГод2.Заголовок = Рост среднего чека к пред. (2) Год, руб;
SET СуммаРостаСреднийЧекПредГод2.Описание = Рост среднего чека к предпредыдущему году, руб;
let СреднийЧекПредГодДеньНедели = replace(replace('Money(@(ПродажиПредГодДеньНеделиРуб)/@(КоличествоЧековПредГодДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СреднийЧекПредГодДеньНедели.Заголовок = Средний чек пред. (1) Год тот же день недели, руб;
SET СреднийЧекПредГодДеньНедели.Описание = Средний чек за предыдущий год тот же день недели, руб;
let ПроцентСреднийЧекПредГодДеньНедели = replace(replace('Money(@(СреднийЧек)/@(СреднийЧекПредГодДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентСреднийЧекПредГодДеньНедели.Заголовок = % среднего чека к пред. (1) Год тот же день недели;
SET ПроцентСреднийЧекПредГодДеньНедели.Описание = Процент роста среднего чеков к предыдущему году тот же день недели;
let СуммаРостаСреднийЧекПредГодДеньНедели = replace(replace('Money(@(СреднийЧек)-@(СреднийЧекПредГодДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаСреднийЧекПредГодДеньНедели.Заголовок = Рост среднего чека к пред. (1) Год тот же день недели, руб;
SET СуммаРостаСреднийЧекПредГодДеньНедели.Описание = Рост среднего чека к предыдущему году тот же день недели, руб;
let СреднийЧекПредГод2ДеньНедели = replace(replace('Money(@(ПродажиПредГод2ДеньНеделиРуб)/@(КоличествоЧековПредГод2ДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СреднийЧекПредГод2ДеньНедели.Заголовок = Средний чек пред. (2) Год тот же день недели, руб;
SET СреднийЧекПредГод2ДеньНедели.Описание = Средний чек за предпредыдущий год тот же день недели, руб;
let ПроцентСреднийЧекПредГод2ДеньНедели = replace(replace('Money(@(СреднийЧек)/@(СреднийЧекПредГод2ДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET ПроцентСреднийЧекПредГод2ДеньНедели.Заголовок = % среднего чека к пред. (2) Год тот же день недели;
SET ПроцентСреднийЧекПредГод2ДеньНедели.Описание = Процент роста среднего чеков к предпредыдущему году тот же день недели;
let СуммаРостаСреднийЧекПредГод2ДеньНедели = replace(replace('Money(@(СреднийЧек)-@(СреднийЧекПредГод2ДеньНедели),~~~# ##0,00~~~)','~~~', chr(39)), '@(', chr(36) & '(');
SET СуммаРостаСреднийЧекПредГод2ДеньНедели.Заголовок = Рост среднего чека к пред. (2) Год тот же день недели, руб;
SET СуммаРостаСреднийЧекПредГод2ДеньНедели.Описание = Рост среднего чека к предпредыдущему году тот же день недели, руб;
